{"version":3,"sources":["cardUtils.ts","Divider.tsx","Card.tsx","MyButton.tsx","CardsChooser.tsx","styles.tsx","RankChooser.tsx","Home.tsx","icons/close.svg","icons/info.svg","SolutionVisualization.tsx","ResultPage.tsx","useResultState.ts","Fade.tsx","useRouterState.ts","portCppModule.ts","loadCppModule.ts","useWindowSize.tsx","App.tsx","useCardState.ts","serviceWorker.ts","index.tsx","imgs/neko-40x40.png"],"names":["RANKS","value","label","isJoker","map","data","RANK","reduce","rankIndex","rank","SUIT","H","color","D","S","C","B","R","SUITS","SUITS_JOKER","ALL_CARDS_ONE_DECK","suit","res","cards","push","cardCompare","a","b","rankA","findIndex","rankB","Error","generateRandomHands","sort","sortCards","i","length","j","Math","floor","random","x","shuffle","slice","canIAddCard","cardToAdd","filter","card","styles","StyleSheet","create","divider","height","backgroundColor","marginHorizontal","Divider","View","style","width","borderColor","borderWidth","borderRadius","cardLarge","cardStacked","marginRight","marginBottom","cardStackedLarge","cardLabel","fontFamily","fontSize","lineHeight","textAlign","marginTop","fontWeight","cardLabelLarge","cardCuteImage","position","left","top","cardCuteImageLarge","overlayWhenDisabled","right","bottom","Card","isStacked","disabled","large","rankDef","suitDef","Text","split","join","Image","source","uri","nekoImg","CardDeck","hands","stackedCardMargin","ScrollView","contentContainerStyle","flexWrap","flexDirection","padding","paddingRight","paddingBottom","index","key","hand","handID","handNode","cardID","maxWidth","MyButton","titleStyle","title","restProps","TouchableOpacity","theme","background","button","paddingVertical","paddingHorizontal","alignItems","justifyContent","text","palette","0","4","6","8","controlStyles","incDecButton","flex","minWidth","margin","actionButton","buttonTitle","buttonTitleSmall","ControlPanel","props","alignContent","onPress","decRank","rankID","incRank","randomCards","numberOfCards","clearCards","deleteLastCard","AddCardPanel","canIAddThisCard","addCard","CardsChooser","windowSize","defaultValue","useState","setValue","increase","useCallback","valueNow","decrease","useIncDecState","flexGrow","horizontal","commonStyles","container","borderBox","RankChooser","setRank","Picker","selectedValue","onValueChange","itemValue","rankOption","Item","MemoedHomePage","React","memo","strategyResult","setResult","navigation","strategyModule","handleSolutionCalcButton","setTimeout","cardsStr","cardsToString","result","calc","navigate","isReady","HomePageWrapper","screenProps","_extends","Object","assign","target","arguments","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","fill","d","_ref","svgRef","viewBox","ref","ForwardRef","forwardRef","CloseWindowButton","onClose","MemoedSolutionWindow","flexShrink","minHands","textAlignVertical","verticalAlign","hiddenMoreSolutions","solutions","solution","solutionIndex","actualHands","cardRaw","wildCard","parseRawCard","ResultPage","goBack","useResultState","delay","fn","requestAnimationFrame","Fade","children","timeout","Animated","Value","fadeAnim","onEntering","timing","toValue","duration","start","onExiting","opacity","defaultProps","appear","enter","mountOnEnter","unmountOnExit","NOT_FOUND","NOT_FOUND_CONFIG","path","portCppModule","cppModule","mainRank","charCodeAt","solutionsRaw","vec","arr","size","get","vector2Array","parseSolutions","cardRegex","parsedSolutions","str","match","foundCards","parseSolutionsUnsafe","e","console","log","loadScript","src","Promise","resolve","reject","s","document","onload","onerror","body","appendChild","window","Module","modulePromise","onRuntimeInitialized","onAbort","LARGE_SCREEN_LENGTH","calcWindowSize","Dimensions","absoluteChild","routes","Home","Result","AppNavigator","currentRoute","route","entries","RouteComponent","useRouterState","providedRoutesConfig","history","routesConfig","getCurrentPath","pathNowRaw","location","pathname","startsWith","base","substring","endsWith","find","routeConfig","setRoute","useEffect","listen","action","routeToDispatch","replace","routeMatched","createBrowserRouterHook","process","defaultRoute","createHistory","App","cardStateProps","setCards","cardsNow","concat","useCardState","resultProps","setModule","loadCppModule","then","catch","setSize","handleWindowSizeChange","addEventListener","removeEventListener","useWindowSize","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","error","AppRegistry","registerComponent","runApplication","rootTag","getElementById","URL","href","origin","fetch","response","contentType","headers","status","ready","unregister","reload","checkValidServiceWorker","guidanceNode","parentNode","removeChild","removeWechatGuidance","module","exports"],"mappings":"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","file":"static/js/main.93ff5ce2.chunk.js","sourcesContent":["import { TCard } from './types'\nimport { CardRaw } from './loadCppModule'\n\nexport const RANKS = [\n  '2',\n  '3',\n  '4',\n  '5',\n  '6',\n  '7',\n  '8',\n  '9',\n  {\n    value: '0',\n    label: '10',\n    isJoker: false,\n  },\n  'J',\n  'Q',\n  'K',\n  'A',\n  {\n    value: 'X',\n    label: 'Joker',\n    isJoker: true,\n  },\n].map(data => {\n  if (typeof data === 'object') {\n    return data\n  } else {\n    const rank = data\n    return {\n      label: rank,\n      value: rank,\n      isJoker: false,\n    }\n  }\n})\ninterface RankIndex {\n  [rank: string]: {\n    value: string\n    label: string\n    isJoker: boolean\n  }\n}\nexport const RANK: RankIndex = RANKS.reduce((rankIndex: RankIndex, rank) => {\n  rankIndex[rank.value] = rank\n  return rankIndex\n}, {})\ninterface SuiteIndex {\n  [suit: string]: {\n    value: string\n    label: string\n    color: string\n  }\n}\nexport const SUIT: SuiteIndex = {\n  H: {\n    value: 'H',\n    label: '♥',\n    color: 'red',\n  },\n  D: {\n    value: 'D',\n    label: '♦',\n    color: 'red',\n  },\n  S: {\n    value: 'S',\n    label: '♠',\n    color: 'black',\n  },\n  C: {\n    value: 'C',\n    label: '♣',\n    color: 'black',\n  },\n  B: {\n    // black joker\n    value: 'B',\n    label: '',\n    color: 'black',\n  },\n  R: {\n    // red joker\n    value: 'R',\n    label: '',\n    color: 'red',\n  },\n}\nexport const SUITS = [SUIT.H, SUIT.S, SUIT.C, SUIT.D]\nexport const SUITS_JOKER = [SUIT.B, SUIT.R]\n\nconst ALL_CARDS_ONE_DECK: TCard[] = RANKS.map(rank =>\n  rank.isJoker\n    ? SUITS_JOKER.map(suit => ({\n        rank: rank.value,\n        suit: suit.value,\n      }))\n    : SUITS.map(suit => ({\n        rank: rank.value,\n        suit: suit.value,\n      })),\n).reduce((res, cards) => {\n  res.push(...cards)\n  return res\n}, [])\n\n/**\n * reference: https://stackoverflow.com/a/6274381\n * Shuffles array in place.\n * @param {Array} a items An array containing the items.\n */\nfunction shuffle<T>(a: T[]): T[] {\n  for (let i = a.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1))\n    const x = a[i]\n    a[i] = a[j]\n    a[j] = x\n  }\n  return a\n}\n\nfunction cardCompare(a: TCard, b: TCard): number {\n  const rankA = RANKS.findIndex(rank => rank.value === a.rank)\n  const rankB = RANKS.findIndex(rank => rank.value === b.rank)\n  if (rankA === -1 || rankB === -1) {\n    throw new Error('rank not found for cards, ' + a + ' ' + b)\n  }\n  if (rankA !== rankB) {\n    return rankA - rankB\n  }\n\n  return a.suit < b.suit ? -1 : a.suit === b.suit ? 0 : 1\n}\n\nfunction cardEqual(a: TCard, b: TCard): boolean {\n  return cardCompare(a, b) === 0\n}\n\nfunction sortCards(a: TCard[]): TCard[] {\n  return a.sort(cardCompare)\n}\n\nexport function generateRandomHands(): TCard[] {\n  return sortCards(\n    shuffle([...ALL_CARDS_ONE_DECK, ...ALL_CARDS_ONE_DECK]).slice(0, 27),\n  )\n}\n\nexport function canIAddCard(cards: TCard[], cardToAdd: TCard): boolean {\n  return cards.filter(card => cardEqual(card, cardToAdd)).length < 2\n}\n\nexport function cardsToString(cards: TCard[]) {\n  return cards\n    .map(card => card.rank + card.suit)\n    .join('')\n}\n\nexport function parseRawCard(cardRaw: CardRaw, wildCard: TCard): TCard {\n  if (cardRaw.length !== 2) {\n    throw new Error('CardRaw should have a length of 2')\n  }\n\n  if (cardRaw === 'WC') {\n    return wildCard\n  }\n\n  return {\n    rank: cardRaw[0],\n    suit: cardRaw[1],\n  }\n}\n","import React from 'react'\nimport { View, StyleSheet } from 'react-native'\n\nconst styles = StyleSheet.create({\n  divider: {\n    height: 2, // avoid floating error\n    backgroundColor: 'black',\n    marginHorizontal: 10,\n  },\n})\n\nexport function Divider() {\n  return <View style={styles.divider} />\n}\n","import React, { Fragment } from 'react'\nimport {\n  View,\n  Text,\n  ScrollView,\n  Image,\n  StyleSheet,\n  StyleProp,\n  ViewStyle,\n} from 'react-native'\nimport { SUIT, RANK } from './cardUtils'\nimport { TCard } from './types'\nimport nekoImg from './imgs/neko-40x40.png'\n\nconst STACKED_CARD_MARGIN = 52\nconst STACKED_CARD_MARGIN_LARGE = 68\n\nconst styles = StyleSheet.create({\n  card: {\n    width: 74,\n    height: 100,\n    backgroundColor: 'white',\n    borderColor: 'black',\n    borderWidth: 2,\n    borderRadius: 4,\n  },\n  cardLarge: {\n    width: 100,\n    height: 134,\n  },\n  cardStacked: {\n    marginRight: -STACKED_CARD_MARGIN,\n    marginBottom: -STACKED_CARD_MARGIN,\n  },\n  cardStackedLarge: {\n    marginRight: -STACKED_CARD_MARGIN_LARGE,\n    marginBottom: -STACKED_CARD_MARGIN_LARGE,\n  },\n  cardLabel: {\n    fontFamily: 'monospace',\n    fontSize: 16,\n    lineHeight: 16,\n    textAlign: 'center',\n    width: 20,\n    marginTop: 4,\n    fontWeight: 'bold',\n  },\n  cardLabelLarge: {\n    fontSize: 24,\n    lineHeight: 24,\n    width: 30,\n  },\n  cardCuteImage: {\n    position: 'absolute',\n    left: 'calc(50% - 20px)',\n    top: 'calc(50% - 20px)',\n    width: 40,\n    height: 40,\n  },\n  cardCuteImageLarge: {\n    width: 56,\n    height: 56,\n    left: 'calc(50% - 28px)',\n    top: 'calc(50% - 28px)',\n  },\n  overlayWhenDisabled: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.3)',\n  },\n})\n\nexport function Card({\n  rank,\n  suit,\n  isStacked,\n  disabled,\n  style,\n  large,\n}: TCard & {\n  isStacked?: boolean\n  disabled?: boolean\n  style?: StyleProp<ViewStyle>\n  large?: boolean\n}) {\n  const rankDef = RANK[rank]\n  const suitDef = SUIT[suit]\n  return (\n    <View\n      style={[\n        styles.card,\n        large && styles.cardLarge,\n        isStacked && styles.cardStacked,\n        isStacked && large && styles.cardStackedLarge,\n        style,\n      ]}\n    >\n      <Text\n        style={[\n          styles.cardLabel,\n          large && styles.cardLabelLarge,\n          { color: suitDef.color },\n        ]}\n      >\n        {rankDef.label === '10'\n          ? rankDef.label\n          : rankDef.label.split('').join('\\n')}\n        {'\\n'}\n        {suitDef.label}\n      </Text>\n      <Image\n        source={{ uri: nekoImg }}\n        style={[styles.cardCuteImage, large && styles.cardCuteImageLarge]}\n      />\n      {disabled && <View style={styles.overlayWhenDisabled} />}\n    </View>\n  )\n}\n\nconst HAND_MARGIN = 13\nconst CONTAINER_PADDING = 0\n\ninterface CardDeckProps {\n  cards?: TCard[]\n  hands?: TCard[][]\n  style?: StyleProp<ViewStyle>\n  large?: boolean\n}\nexport const CardDeck: React.FunctionComponent<CardDeckProps> = ({\n  cards,\n  hands,\n  style,\n  large,\n}) => {\n  const stackedCardMargin = large\n    ? STACKED_CARD_MARGIN_LARGE\n    : STACKED_CARD_MARGIN\n\n  return (\n    <ScrollView\n      style={style}\n      contentContainerStyle={{\n        flexWrap: 'wrap',\n        flexDirection: 'row',\n        padding: CONTAINER_PADDING,\n        paddingRight: stackedCardMargin + CONTAINER_PADDING, // cancel margin of hands\n        paddingBottom: stackedCardMargin + CONTAINER_PADDING,\n      }}\n    >\n      {!!cards &&\n        cards.map((card, index) => (\n          <Card\n            key={card.rank + card.suit + index}\n            {...card}\n            isStacked\n            large={large}\n          />\n        ))}\n      {!!hands &&\n        hands.map((hand, handID) => {\n          const handNode = hand.map((card, cardID) => (\n            <Card\n              key={card.rank + card.suit + cardID}\n              {...card}\n              isStacked\n              large={large}\n            />\n          ))\n\n          if (handID > 0) {\n            // no wrapping\n            return (\n              <View\n                style={{\n                  flexDirection: 'row',\n                  flexWrap: 'nowrap',\n                  marginRight: HAND_MARGIN,\n                }}\n                key={handID}\n              >\n                {handNode}\n              </View>\n            )\n          } else {\n            // initial hand can be long, allow wrapping as normal\n            return (\n              <View\n                style={{\n                  flexDirection: 'row',\n                  flexWrap: 'wrap',\n                  marginRight: HAND_MARGIN,\n                  maxWidth: '100%', // set max width to enable wrapping\n                }}\n                key={handID}\n              >\n                {handNode}\n              </View>\n            )\n          }\n        })}\n    </ScrollView>\n  )\n}\n","import React, { FunctionComponent, ReactNode } from 'react'\nimport {\n  Text,\n  TouchableOpacity,\n  TouchableOpacityProps,\n  StyleProp,\n  TextStyle,\n} from 'react-native'\nimport { theme } from './CardsChooser'\n\ninterface MyButtonProps extends TouchableOpacityProps {\n  title: ReactNode\n  titleStyle?: StyleProp<TextStyle>\n}\n\nexport const MyButton: FunctionComponent<MyButtonProps> = ({\n  style,\n  titleStyle,\n  title,\n  disabled,\n  ...restProps\n}) => (\n  <TouchableOpacity\n    style={[\n      {\n        backgroundColor: disabled\n          ? theme.disabled.background\n          : theme.button.background,\n        borderRadius: 2,\n        paddingVertical: 8,\n        paddingHorizontal: 4,\n        alignItems: 'center',\n        justifyContent: 'center',\n      },\n      style,\n    ]}\n    disabled={disabled}\n    {...restProps}\n  >\n    <Text\n      style={[\n        {\n          color: disabled ? theme.disabled.text : 'white',\n          textAlign: 'center',\n        },\n        titleStyle,\n      ]}\n    >\n      {title}\n    </Text>\n  </TouchableOpacity>\n)\n","import React, { useState, useCallback } from 'react'\nimport {\n  View,\n  TouchableOpacity,\n  StyleSheet,\n  ScrollView,\n  Text,\n} from 'react-native'\nimport { RANKS, SUITS, SUITS_JOKER, canIAddCard } from './cardUtils'\nimport { CardState, TCard } from './types'\nimport { Divider } from './Divider'\nimport { CardDeck, Card } from './Card'\nimport { MyButton } from './MyButton'\nimport { WindowSize } from './useWindowSize'\n\nconst palette = {\n  blue: 'rgb(33, 150, 243)',\n  grey: {\n    0: 'black',\n    4: 'rgb(161, 161, 161)',\n    6: 'rgb(223, 223, 223)',\n    8: 'white',\n  },\n}\n\nexport const theme = {\n  disabled: {\n    background: palette.grey[6],\n    text: palette.grey[4],\n  },\n  button: {\n    background: palette.blue,\n  },\n}\n\nfunction useIncDecState(defaultValue = 0) {\n  const [value, setValue] = useState(defaultValue)\n  const increase = useCallback(() => setValue(valueNow => valueNow + 1), [\n    setValue,\n  ])\n  const decrease = useCallback(() => setValue(valueNow => valueNow - 1), [\n    setValue,\n  ])\n\n  return {\n    value,\n    increase,\n    decrease,\n  }\n}\n\nconst controlStyles = StyleSheet.create({\n  incDecButton: {\n    flex: 2,\n    minWidth: 80,\n    maxWidth: 200,\n    margin: 6,\n  },\n  actionButton: {\n    flex: 1,\n    minWidth: 80,\n    maxWidth: 150,\n    margin: 6,\n  },\n  buttonTitle: {\n    fontSize: 20,\n  },\n  buttonTitleSmall: {\n    fontSize: 20,\n  },\n})\ninterface ControlPanelProps {\n  decRank: () => void\n  incRank: () => void\n  clearCards: () => void\n  randomCards: () => void\n  deleteLastCard: () => void\n  rankID: number\n  numberOfCards: number\n}\nconst ControlPanel: React.FunctionComponent<ControlPanelProps> = props => (\n  <View>\n    <View\n      style={{\n        flexDirection: 'row',\n        justifyContent: 'center',\n        alignContent: 'center',\n      }}\n    >\n      <MyButton\n        onPress={props.decRank}\n        disabled={props.rankID <= 0}\n        title=\"<\"\n        style={controlStyles.incDecButton}\n        titleStyle={controlStyles.buttonTitle}\n      />\n      <MyButton\n        onPress={props.incRank}\n        title=\">\"\n        disabled={props.rankID >= RANKS.length - 1}\n        style={controlStyles.incDecButton}\n        titleStyle={controlStyles.buttonTitle}\n      />\n    </View>\n    <View\n      style={{\n        flexDirection: 'row',\n        justifyContent: 'center',\n        alignContent: 'center',\n      }}\n    >\n      <MyButton\n        onPress={props.randomCards}\n        title=\"随机发牌\"\n        disabled={props.numberOfCards > 0}\n        style={controlStyles.actionButton}\n        titleStyle={controlStyles.buttonTitleSmall}\n      />\n      <MyButton\n        onPress={props.clearCards}\n        title=\"清除\"\n        disabled={props.numberOfCards === 0}\n        style={controlStyles.actionButton}\n        titleStyle={controlStyles.buttonTitle}\n      />\n      <MyButton\n        onPress={props.deleteLastCard}\n        title=\"删除\"\n        disabled={props.numberOfCards === 0}\n        style={controlStyles.actionButton}\n        titleStyle={controlStyles.buttonTitle}\n      />\n    </View>\n  </View>\n)\n\ninterface AddCardPanelProps {\n  cards: TCard[]\n  addCard: (card: TCard) => void\n  rankID: number\n  large?: boolean\n}\nconst AddCardPanel: React.FunctionComponent<AddCardPanelProps> = props => (\n  <>\n    {(RANKS[props.rankID].isJoker ? SUITS_JOKER : SUITS).map(suit => {\n      const card = {\n        suit: suit.value,\n        rank: RANKS[props.rankID].value,\n      }\n      const canIAddThisCard = canIAddCard(props.cards, card)\n\n      return (\n        <TouchableOpacity\n          key={suit.value}\n          onPress={() => props.addCard(card)}\n          disabled={!canIAddThisCard}\n        >\n          <Card\n            suit={suit.value}\n            rank={RANKS[props.rankID].value}\n            disabled={!canIAddThisCard}\n            style={{ margin: 3 }}\n            large={props.large}\n          />\n        </TouchableOpacity>\n      )\n    })}\n  </>\n)\n\nexport function CardsChooser({\n  cards,\n  addCard,\n  clearCards,\n  randomCards,\n  deleteLastCard,\n  windowSize,\n}: CardState & {\n  windowSize: WindowSize\n}) {\n  const {\n    value: rankID,\n    increase: incRank,\n    decrease: decRank,\n  } = useIncDecState()\n\n  return (\n    <View style={{ flex: 1 }}>\n      <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n        <CardDeck\n          cards={cards}\n          style={{\n            height: 60,\n            padding: 6,\n          }}\n          large={windowSize === 'BIG'}\n        />\n      </View>\n      <Divider />\n      <Text style={{ fontSize: 14, margin: 4 }}>{`点击扑克牌添加，目前已有${\n        cards.length\n      }张牌`}</Text>\n      <ScrollView\n        style={{\n          height: windowSize === 'SMALL' ? 110 : 150,\n          flexGrow: 0,\n        }}\n        contentContainerStyle={{\n          flex: 1,\n          justifyContent: 'center',\n        }}\n        horizontal\n      >\n        <AddCardPanel\n          cards={cards}\n          addCard={addCard}\n          rankID={rankID}\n          large={windowSize === 'BIG'}\n        />\n      </ScrollView>\n      <ControlPanel\n        numberOfCards={cards.length}\n        clearCards={clearCards}\n        randomCards={randomCards}\n        deleteLastCard={deleteLastCard}\n        rankID={rankID}\n        incRank={incRank}\n        decRank={decRank}\n      />\n    </View>\n  )\n}\n","import { StyleSheet } from 'react-native';\n\nexport const commonStyles = StyleSheet.create({\n  container: {\n    padding: 10,\n  },\n  borderBox: {\n    borderWidth: 2,\n    borderColor: 'black',\n  },\n});\n","import React from 'react'\nimport { View, Text, Picker } from 'react-native'\nimport { RankState } from './types'\nimport { RANKS, SUIT, RANK } from './cardUtils'\n\nexport function RankChooser({ rank, setRank }: RankState) {\n  return (\n    <View\n      style={{\n        flexDirection: 'row',\n      }}\n    >\n      <Text style={{ fontSize: 22, marginHorizontal: 6 }}>\n        当前打\n        <Picker\n          selectedValue={rank}\n          onValueChange={itemValue => setRank(itemValue)}\n        >\n          {RANKS.filter(rankOption => !rankOption.isJoker).map(rankOption => (\n            <Picker.Item\n              key={rankOption.value}\n              label={rankOption.label}\n              value={rankOption.value}\n            />\n          ))}\n        </Picker>{' '}\n        <Text style={{ color: SUIT.H.color }}>\n          {SUIT.H.label}\n          {RANK[rank].label}\n        </Text>\n        是百搭\n      </Text>\n    </View>\n  )\n}\n","import React, { useCallback, Fragment } from 'react'\nimport { View, Text } from 'react-native'\nimport { NavigationProps, AppState } from './types'\nimport { CardsChooser } from './CardsChooser'\nimport { Divider } from './Divider'\nimport { commonStyles } from './styles'\nimport { cardsToString } from './cardUtils'\nimport { MyButton } from './MyButton'\nimport { RankChooser } from './RankChooser'\n\ninterface StatelessHomePageProps\n  extends Pick<\n      AppState,\n      | 'rank'\n      | 'setRank'\n      | 'cards'\n      | 'clearCards'\n      | 'addCard'\n      | 'randomCards'\n      | 'deleteLastCard'\n      | 'strategyResult'\n      | 'setResult'\n      | 'strategyModule'\n      | 'windowSize'\n    >,\n    Pick<NavigationProps, 'navigation'> {}\nconst HomePage: React.FunctionComponent<StatelessHomePageProps> = ({\n  rank,\n  setRank,\n  cards,\n  clearCards,\n  addCard,\n  randomCards,\n  deleteLastCard,\n  strategyResult,\n  setResult,\n  navigation,\n  strategyModule,\n  windowSize,\n}) => {\n  const handleSolutionCalcButton = useCallback(() => {\n    if (strategyModule != null && strategyModule !== 'error') {\n      setResult('loading')\n\n      setTimeout(() => {\n        // console.log(cards)\n        const cardsStr = cardsToString(cards)\n        // console.log(cardsStr)\n        const result = strategyModule.calc(cardsStr, rank)\n\n        // set a minimum extra delay to avoid UI flashing too quickly\n        setTimeout(() => {\n          navigation.navigate('Result')\n          setResult(result)\n        }, 300)\n      }, 0)\n    }\n  }, [cards, setResult, navigation, strategyModule])\n\n  if (strategyModule === 'error') {\n    return <Text>{'strategy module failed to load'}</Text>\n  }\n\n  return (\n    <Fragment>\n      <View\n        style={[\n          commonStyles.container,\n          {\n            height: 40,\n            justifyContent: 'center',\n            alignItems: 'center',\n          },\n        ]}\n      >\n        <RankChooser rank={rank} setRank={setRank} />\n      </View>\n      <Divider />\n      <View\n        style={{\n          flex: 1,\n        }}\n      >\n        <CardsChooser\n          cards={cards}\n          addCard={addCard}\n          clearCards={clearCards}\n          randomCards={randomCards}\n          deleteLastCard={deleteLastCard}\n          windowSize={windowSize}\n        />\n      </View>\n      <View\n        style={[\n          commonStyles.container,\n          {\n            justifyContent: 'center',\n            padding: 6,\n          },\n        ]}\n      >\n        {(() => {\n          const isReady = strategyResult !== 'loading'\n          return (\n            <MyButton\n              title={isReady ? '开始拆牌' : '拆牌中...'}\n              disabled={!isReady}\n              onPress={handleSolutionCalcButton}\n              style={{\n                height: 60,\n              }}\n              titleStyle={{\n                fontSize: 28,\n              }}\n            />\n          )\n        })()}\n      </View>\n    </Fragment>\n  )\n}\n\nconst MemoedHomePage = React.memo(HomePage)\n\nfunction HomePageWrapper({ screenProps, navigation }: NavigationProps) {\n  return <MemoedHomePage {...screenProps} navigation={navigation} />\n}\n\nexport default HomePageWrapper\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n});\n\nvar SvgClose = function SvgClose(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgClose, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/close.62e7709e.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n});\n\nvar SvgInfo = function SvgInfo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgInfo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/info.59d1a698.svg\";\nexport { ForwardRef as ReactComponent };","import React, { memo } from 'react'\nimport {\n  View,\n  Text,\n  ScrollView,\n  TouchableOpacity,\n  StyleProp,\n  ViewStyle,\n} from 'react-native'\nimport { Divider } from './Divider'\nimport { CardDeck } from './Card'\nimport { commonStyles } from './styles'\nimport { parseRawCard } from './cardUtils'\nimport { StrategyResultState } from './useResultState'\nimport { ReactComponent as Close } from './icons/close.svg'\nimport { ReactComponent as Info } from './icons/info.svg'\nimport { WindowSize } from './useWindowSize'\n\ninterface SolutionVisualizationProps {\n  strategyResult: StrategyResultState\n  rank: string\n  windowSize: WindowSize\n  onClose: () => void\n}\n\ninterface WindowSizeToggleProps {\n  onClose: () => void\n  style: StyleProp<ViewStyle>\n}\nconst CloseWindowButton: React.FunctionComponent<\n  WindowSizeToggleProps\n> = props => (\n  <TouchableOpacity\n    style={[\n      {\n        width: 40,\n        flexDirection: 'row',\n        justifyContent: 'center',\n        alignItems: 'center',\n      },\n      props.style,\n    ]}\n    onPress={props.onClose}\n  >\n    <Close />\n  </TouchableOpacity>\n)\n\ninterface SolutionWindowProps {\n  rank: string\n  strategyResult: StrategyResultState\n  windowSize: WindowSize\n}\nconst SolutionWindow: React.FunctionComponent<SolutionWindowProps> = ({\n  strategyResult,\n  rank,\n  windowSize,\n}) => (\n  <ScrollView\n    style={[\n      commonStyles.container,\n      {\n        flex: 2,\n      },\n    ]}\n  >\n    {strategyResult &&\n      (strategyResult === 'loading' ? (\n        <Text\n          style={{\n            fontSize: 20,\n          }}\n        >\n          {/* 计算中... */}\n        </Text>\n      ) : (\n        <>\n          <View\n            style={{\n              flexDirection: 'row',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n            }}\n          >\n            <Text\n              style={{ fontSize: 18, flexShrink: 0, marginRight: 20 }}\n            >{`最少${strategyResult.minHands}手牌`}</Text>\n            <Text style={{ textAlignVertical: 'center' }}>\n              <Info style={{ width: 19, height: 19, verticalAlign: 'top' }} />\n              大小王、炸弹算0手，其他牌型算1手\n            </Text>\n          </View>\n          <View>\n            {(() => {\n              const solutionsCount = strategyResult.solutions.length\n              const hiddenMoreSolutions = solutionsCount - 10\n              return (\n                <>\n                  {strategyResult.solutions\n                    .slice(0, 10)\n                    .map((solution, solutionIndex) => (\n                      <CardDeck\n                        key={solutionIndex}\n                        hands={solution.actualHands.map(hand =>\n                          hand.map(card =>\n                            parseRawCard(card, {\n                              rank: rank,\n                              suit: 'H',\n                            }),\n                          ),\n                        )}\n                        style={{\n                          margin: 6,\n                        }}\n                        large={windowSize === 'BIG'}\n                      />\n                    ))}\n                  {hiddenMoreSolutions > 0 &&\n                    `还有${hiddenMoreSolutions}种方案可以达到同样的最少手数`}\n                </>\n              )\n            })()}\n          </View>\n        </>\n      ))}\n  </ScrollView>\n)\nconst MemoedSolutionWindow = memo(SolutionWindow)\n\nconst SolutionVisualization: React.FunctionComponent<\n  SolutionVisualizationProps\n> = ({ strategyResult, rank, onClose, windowSize }) => (\n  <>\n    <View\n      style={{\n        flexDirection: 'row',\n        justifyContent: 'flex-end',\n        alignContent: 'center',\n      }}\n    >\n      <View style={{ flex: 1 }}>\n        <Text\n          style={{\n            fontSize: 20,\n            padding: 4,\n            textAlign: 'center',\n          }}\n        >\n          拆牌策略计算结果\n        </Text>\n      </View>\n      {/* <View style={{ width: 2, backgroundColor: 'black' }} /> */}\n      <CloseWindowButton\n        onClose={onClose}\n        style={{\n          // to the right and centered\n          position: 'absolute',\n          right: 0,\n          height: '100%',\n        }}\n      />\n    </View>\n    <Divider />\n    <MemoedSolutionWindow\n      strategyResult={strategyResult}\n      rank={rank}\n      windowSize={windowSize}\n    />\n  </>\n)\n\nexport default React.memo(SolutionVisualization)\n","import React from 'react'\nimport { NavigationProps } from './types'\nimport SolutionVisualization from './SolutionVisualization'\n\nfunction ResultPage({ screenProps, navigation }: NavigationProps) {\n  const { strategyResult, rank, windowSize } = screenProps\n\n  return (\n    <SolutionVisualization\n      strategyResult={strategyResult}\n      rank={rank}\n      windowSize={windowSize}\n      onClose={navigation.goBack}\n    />\n  )\n}\nexport default ResultPage\n","import { useState } from 'react'\nimport { StrategyResult } from './loadCppModule'\n\nexport type StrategyResultState = null | 'loading' | StrategyResult\nexport interface ResultProps {\n  strategyResult: StrategyResultState\n  setResult: (result: StrategyResultState) => void\n}\nexport const useResultState = () => {\n  const [strategyResult, setResult] = useState<StrategyResultState>(null)\n  return {\n    strategyResult,\n    setResult,\n  }\n}\n","import React, { useState, FunctionComponent } from 'react'\nimport { Animated, StyleProp, ViewStyle } from 'react-native'\nimport { Transition } from 'react-transition-group'\nimport { TransitionProps } from 'react-transition-group/Transition'\n\ninterface FadeProps extends TransitionProps {\n  style?: StyleProp<ViewStyle>\n  timeout: number\n}\n\nfunction delay(fn: () => void) {\n  return requestAnimationFrame(() => {\n    // current frame\n    requestAnimationFrame(() => {\n      // next frame, react updated dom\n      requestAnimationFrame(() => {\n        // the third frame, start animation in the first idle frame\n        fn()\n      })\n    })\n  })\n}\n\n// animation may be delayed by react rendering\n// keep components mounted for some extra time to ensure animation finishes before components are unmounted\nconst EXTRA_TIMEOUT = 300\n\nexport const Fade: FunctionComponent<FadeProps> = ({\n  children,\n  style,\n  timeout,\n  ...restProps\n}) => {\n  const [fadeAnim, _] = useState(new Animated.Value(0))\n\n  return (\n    <Transition\n      timeout={timeout + EXTRA_TIMEOUT}\n      onEntering={() => {\n        // start fading in from the next frame (react is rendering in current frame, so animation would be laggy if started immediately)\n        delay(() => {\n          Animated.timing(fadeAnim, { toValue: 1, duration: timeout }).start()\n        })\n      }}\n      onExiting={() => {\n        // start fading out after a delay\n        delay(() => {\n          Animated.timing(fadeAnim, {\n            toValue: 0,\n            duration: timeout,\n          }).start()\n        })\n      }}\n      {...restProps}\n    >\n      <Animated.View\n        style={[\n          {\n            opacity: fadeAnim,\n          },\n          style,\n        ]}\n      >\n        {children}\n      </Animated.View>\n    </Transition>\n  )\n}\nFade.defaultProps = {\n  appear: true,\n  enter: true,\n  mountOnEnter: true,\n  unmountOnExit: true,\n}\n","import { useState, useMemo, useEffect, useCallback } from 'react'\nimport { History } from 'history'\n\n// using internal state\nexport function useRouterState(defaultRoute: string) {\n  const [route, navigate] = useState(defaultRoute)\n  const navigation = useMemo(\n    () => ({\n      navigate,\n    }),\n    [navigate],\n  )\n  return {\n    route,\n    navigation,\n  }\n}\n\ninterface RouteConfig {\n  path: string\n  title: string\n}\n\ninterface RoutesConfig {\n  base: string\n  defaultRoute: string\n  routes: {\n    [route: string]: RouteConfig\n  }\n}\n\nexport const NOT_FOUND = 'NOT_FOUND'\nconst NOT_FOUND_CONFIG: RouteConfig = {\n  path: '/not-found',\n  title: 'Page Not Found',\n}\n\n// remove ending /\nfunction normalizePath(path: string) {\n  if (path.endsWith('/')) {\n    return path.substring(0, path.length - 1)\n  }\n\n  return path\n}\n\nexport function createBrowserRouterHook(\n  providedRoutesConfig: RoutesConfig,\n  history: History,\n) {\n  const routesConfig: RoutesConfig = {\n    ...providedRoutesConfig,\n    routes: { ...providedRoutesConfig.routes, [NOT_FOUND]: NOT_FOUND_CONFIG },\n  }\n  function getCurrentPath() {\n    const pathNowRaw = history.location.pathname\n    if (pathNowRaw.startsWith(routesConfig.base)) {\n      return normalizePath(pathNowRaw.substring(routesConfig.base.length))\n    }\n\n    return routesConfig.base + NOT_FOUND_CONFIG.path\n  }\n  function match(pathname: string) {\n    const [route, routeConfig] = Object.entries(routesConfig.routes).find(\n      ([_, routeConfig]) => routeConfig.path === pathname,\n    ) || [NOT_FOUND, NOT_FOUND_CONFIG]\n\n    return {\n      route,\n      routeConfig,\n    }\n  }\n\n  return function useBrowserRouterState() {\n    const [route, setRoute] = useState(match(getCurrentPath()).route)\n\n    useEffect(() => {\n      function historyEventHandler(location: any, action: any) {\n        // console.log(location)\n        // console.log(action)\n        // console.log(getCurrentPath())\n        // console.log(match(getCurrentPath()))\n        setRoute(match(getCurrentPath()).route)\n      }\n\n      // listen for all incoming navigations, returns function to unlisten the event handler\n      return history.listen(historyEventHandler)\n    }, [setRoute])\n\n    useEffect(() => {\n      window.document.title = routesConfig.routes[route].title\n    }, [])\n\n    // dispatch navigation action\n    const navigate = useCallback(\n      (routeToDispatch, { replace = false } = {}) => {\n        // check validity of the route, if not found, go to the NOT_FOUND page\n        routeToDispatch = routesConfig.routes[routeToDispatch]\n          ? routeToDispatch\n          : NOT_FOUND\n        const routeMatched = routesConfig.routes[routeToDispatch]\n\n        if (replace) {\n          history.replace(routesConfig.base + routeMatched.path)\n        } else {\n          history.push(routesConfig.base + routeMatched.path)\n        }\n      },\n      [routesConfig, NOT_FOUND_CONFIG],\n    )\n\n    return {\n      route,\n      title: routesConfig.routes[route].title,\n      navigation: {\n        navigate,\n        goBack: history.goBack,\n      },\n    }\n  }\n}\n","import {\n  CppModule,\n  StrategyResult,\n  vector2Array,\n  Solution,\n} from './loadCppModule'\n\nexport function portCppModule(cppModule: CppModule) {\n  return {\n    calc: (cards: string, mainRank: string): StrategyResult => {\n      const { minHands, solutions: originalSolutions } = cppModule.calc(\n        cards,\n        mainRank.charCodeAt(0),\n      )\n      const solutionsRaw = vector2Array(originalSolutions)\n\n      return {\n        minHands,\n        solutionsRaw,\n        solutions: parseSolutions(solutionsRaw),\n      }\n    },\n  }\n}\n\nconst cardRegex = /[0-9A-Z]{2}/\n\n// TODO: write this more elegantly\nexport function restoreWildCards(\n  hands: string[][],\n  usedWildCards: string[],\n  wildCard: string,\n): string[][] {\n  const wildCardsToUse = [...usedWildCards]\n  const restoredHands = [...hands]\n\n  hands.forEach((hand, handID) => {\n    hand.forEach((card, cardID) => {\n      if (wildCardsToUse.length > 0) {\n        const foundCardID = wildCardsToUse.indexOf(card)\n        if (foundCardID >= 0) {\n          wildCardsToUse.splice(foundCardID, 1)\n          const newHand = [...restoredHands[handID]]\n          newHand.splice(cardID, 1, wildCard)\n          restoredHands[handID] = newHand\n        }\n      }\n    })\n  })\n\n  if (wildCardsToUse.length > 0) {\n    throw new Error(\n      `Cannot find all wildcards, double check the data, hands = \"${hands}\", usedWildCards = \"${usedWildCards}\", wildCard=\"${wildCard}\"`,\n    )\n  }\n\n  return restoredHands\n}\n\nexport function parseSolutions(solutions: string[]): Solution[] {\n  try {\n    return parseSolutionsUnsafe(solutions)\n  } catch (e) {\n    console.log(solutions)\n    throw e\n  }\n}\n\nexport function parseSolutionsUnsafe(solutions: string[]): Solution[] {\n  const parsedSolutions = []\n  for (let i = 0; i < solutions.length; ++i) {\n    if (solutions[i].length === 0) {\n      throw new Error(\"solutions shouldn't have empty line: #\" + i)\n    }\n\n    // section of a solution\n    const handsRawStr = solutions[i]\n    const actualHands = handsRawStr\n      .split('|')\n      .map(hand => hand.split(' ').filter(str => str.match(cardRegex)))\n      .filter(foundCards => foundCards.length > 0)\n    parsedSolutions.push({\n      actualHands,\n    })\n  }\n  // console.log(parsedSolutions)\n\n  return parsedSolutions\n}\n","import { portCppModule } from './portCppModule'\n\ninterface VectorString {\n  size: () => number\n  get: (index: number) => string\n}\n\ninterface OriginalStrategyResult {\n  minHands: number\n  solutions: VectorString\n}\n\nexport type CardRaw = string\n\nexport type HandRaw = CardRaw[]\n\nexport interface Solution {\n  actualHands: HandRaw[]\n}\n\nexport interface StrategyResult {\n  minHands: number\n  solutionsRaw: string[]\n  solutions: Solution[]\n}\n\nexport interface CppModule {\n  onRuntimeInitialized: () => void\n  onAbort: () => void\n  add: (a: number, b: number) => number\n  calc: (cards: string, mainRank: number) => OriginalStrategyResult\n}\n\nexport interface PortedCppModule {\n  calc: (cards: string, mainRank: string) => StrategyResult\n}\n\ndeclare global {\n  interface Window {\n    Module: CppModule\n  }\n}\n\nexport function vector2Array(vec: VectorString): string[] {\n  const arr = []\n  for (let i = 0; i < vec.size(); ++i) {\n    arr.push(vec.get(i))\n  }\n\n  return arr\n}\n\nfunction loadScript(src: string): Promise<void> {\n  return new Promise((resolve, reject) => {\n    const s = document.createElement('script')\n    s.src = src\n    s.onload = () => resolve()\n    s.onerror = () => reject(`${src} had some errors when loading`)\n    document.body.appendChild(s)\n  })\n}\n\nexport async function loadCppModule(): Promise<PortedCppModule> {\n  if (window.Module) {\n    return portCppModule(window.Module)\n  } else {\n    const modulePromise = new Promise<PortedCppModule>((resolve, reject) => {\n      ;(window.Module as any) = {\n        onRuntimeInitialized() {\n          resolve(portCppModule(window.Module))\n        },\n        onAbort() {\n          reject('wasm module aborted during loading')\n        },\n      }\n    })\n\n    await loadScript('res/strategy.js')\n\n    return await modulePromise\n  }\n}\n","import { useState, useEffect } from 'react'\nimport { Dimensions } from 'react-native'\n\nexport type WindowSize = 'BIG' | 'SMALL'\nconst LARGE_SCREEN_LENGTH = 720\n\nfunction calcWindowSize(): WindowSize {\n  const { width, height } = Dimensions.get('window')\n  return width >= LARGE_SCREEN_LENGTH && height >= LARGE_SCREEN_LENGTH\n    ? 'BIG'\n    : 'SMALL'\n}\n\nexport function useWindowSize() {\n  const [size, setSize] = useState<WindowSize>(calcWindowSize)\n  useEffect(() => {\n    function handleWindowSizeChange() {\n      setSize(calcWindowSize())\n    }\n    Dimensions.addEventListener('change', handleWindowSizeChange)\n    // unsubscribe when effect destroyed\n    return () =>\n      Dimensions.removeEventListener('change', handleWindowSizeChange)\n  }, [setSize])\n  return size\n}\n","/// <reference path=\"lib.d.ts\"/>\n\nimport React, { useState, FunctionComponent, useEffect } from 'react'\nimport { StyleSheet, View, Text, StyleProp, ViewStyle } from 'react-native'\nimport { NavigationProps } from './types'\nimport { useCardState } from './useCardState'\nimport Home from './Home'\nimport ResultPage from './ResultPage'\nimport { useResultState } from './useResultState'\nimport { Fade } from './Fade'\nimport { TransitionGroup } from 'react-transition-group'\nimport { createBrowserRouterHook } from './useRouterState'\nimport createHistory from 'history/createBrowserHistory'\nimport { PortedCppModule, loadCppModule } from './loadCppModule'\nimport { useWindowSize } from './useWindowSize'\n\ninterface AppNavigatorProps extends NavigationProps {\n  route: string\n  style?: StyleProp<ViewStyle>\n}\nconst styles = StyleSheet.create({\n  absoluteChild: {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n  },\n})\n\nconst routes = {\n  Home,\n  Result: ResultPage,\n}\nconst AppNavigator: FunctionComponent<AppNavigatorProps> = ({\n  route: currentRoute,\n  navigation,\n  screenProps,\n  style,\n}) => {\n  return (\n    <>\n      <TransitionGroup>\n        {Object.entries(routes).map(([route, RouteComponent]) => {\n          if (route !== currentRoute) return null\n\n          return (\n            <Fade\n              key={route}\n              style={[styles.absoluteChild, style]}\n              timeout={300}\n            >\n              <RouteComponent\n                screenProps={screenProps}\n                navigation={navigation}\n              />\n            </Fade>\n          )\n        })}\n      </TransitionGroup>\n    </>\n  )\n}\n\nconst routesConfig = {\n  base: process.env.REACT_APP_BASE_URL || '',\n  defaultRoute: 'Home',\n  routes: {\n    Home: {\n      path: '',\n      title: '掼蛋拆牌计算器',\n    },\n    Result: {\n      path: '/result',\n      title: '掼蛋拆牌计算器',\n    },\n  },\n}\nconst history = createHistory()\n\nconst useRouterState = createBrowserRouterHook(routesConfig, history)\n\nfunction App() {\n  const [rank, setRank] = useState('2')\n  const cardStateProps = useCardState()\n  const resultProps = useResultState()\n  const { route, navigation } = useRouterState()\n  const [strategyModule, setModule] = useState<\n    PortedCppModule | null | 'error'\n  >(null)\n  useEffect(() => {\n    loadCppModule()\n      .then(cppModule => {\n        setModule(cppModule)\n      })\n      .catch(() => {\n        setModule('error')\n      })\n  }, [])\n  const windowSize = useWindowSize()\n\n  return (\n    <View\n      style={{\n        flex: 1,\n        backgroundColor: 'lightblue',\n        height: '100%',\n      }}\n    >\n      <View style={{ height: '100%' }}>\n        <Text style={{ fontSize: 14 }}>掼蛋拆牌计算器</Text>\n        <View style={{ flex: 1 }}>\n          <AppNavigator\n            route={route}\n            screenProps={{\n              rank,\n              setRank,\n              ...cardStateProps,\n              ...resultProps,\n              strategyModule,\n              windowSize,\n            }}\n            navigation={navigation}\n            style={{\n              flex: 1,\n            }}\n          />\n        </View>\n      </View>\n    </View>\n  )\n}\n\nexport default App\n","import React, { useState, useCallback } from 'react'\nimport { View, Text, Picker } from 'react-native'\nimport { RANKS, RANK, SUIT, generateRandomHands } from './cardUtils'\nimport { CardState, RankState, TCard } from './types'\n\nexport function useCardState(): CardState {\n  const [cards, setCards] = useState<TCard[]>([])\n  const clearCards = useCallback(() => setCards([]), [setCards])\n  const addCard = useCallback(\n    card => setCards(cardsNow => cardsNow.concat(card)),\n    [setCards],\n  )\n  const randomCards = useCallback(() => setCards(generateRandomHands()), [\n    setCards,\n  ])\n  const deleteLastCard = useCallback(\n    () => setCards(cardsNow => cardsNow.slice(0, cardsNow.length - 1)),\n    [setCards],\n  )\n  return {\n    cards,\n    clearCards,\n    addCard,\n    randomCards,\n    deleteLastCard,\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { AppRegistry } from 'react-native'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nAppRegistry.registerComponent('App', () => App)\nAppRegistry.runApplication('App', {\n  rootTag: document.getElementById('root'),\n})\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register({\n  onSuccess: () => console.log('service worker loaded successfully'),\n  onUpdate: () => console.log('service worker is updated'),\n})\n\nfunction removeWechatGuidance() {\n  const guidanceNode = window.document.getElementById('wechat-guidance')\n  if (guidanceNode) {\n    const parentNode = guidanceNode.parentNode\n    if (parentNode) {\n      parentNode.removeChild(guidanceNode)\n    }\n  }\n}\n\nremoveWechatGuidance()\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAQAAAAm93DmAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfjAhUINB2XPPnXAAAEaElEQVRIx52WWWxUZRTHf3e2TmfrdJlaSWlRlkK6AA1BiCQNWzRIUBACwS1Go2LE0JASwaSVh8qDxroEhBcJFBMTbNQGFRIftAqoIBpKY9vU0EUK0xY6bYdZ78zxodLZ7nTh/3bv+c7vnO+c8333wv0olwp0M3EoZBMZaa0KB/mFnJkAd+BhW1rrKr1b6aV4JsDXHWJpZYGmLcdwdqvMGqRM21W7Es71bCmjFpuG7cWV62qwmrDMJMP63fKPLA3yhjHZsjynt1nuyJIA67VdDZpvc208TJ3ppZrbV2jHRTYWwIuP/c/O3kCQLCO50wfqsDsI4aSwaPiEy5eX77SaDeAPDQcHsjv4kJWYdem6rAXUK47f2M5tqtg3byEF2DAihDO93KKV83xFB5Rg5e506mdgQ0bXajkuNyQqWopIjxyVR/3GM1RNPd5ZHJx/56gMy1QakPekyE0N1slwLuXkOvWPKWHjisrPsiLIYZzpcNmceira9//yoLSLOwHgl0tyMwnaIWtUjmjOKwYOrY30TSxtEpdsE1+c8xdikxcknIJcHuKtWC1jRX1szq53dYUTj0bCWBJqbqOYwpQuLKDe+EA1q1KaofxQnxA5KJfFLaoEREQVv4hEZFD8ml3fKzSRmQjcXO7v0VjcJPslJEekJmWr8bomxSOsid+yjk2Pm4sSIrj5Hcihidf4iJI0Z3RcC1ntYKMS96bA2vZ9UtRjsklCEpW3BdknYRG5LuckkibHE6K/SNZ4bwEKXbOSLz8HrRzCyRnycRPEwHE6WZsmxzKyi4cKGLkHzHdZks/6RsY4Thd1VLCbXRRymnfQpwEWkGcfirt/nlwV9mpspFmWyYCIXJC5skJOJkxlogZlsY+qWFN8PjWgEbecMFcAJzbe57nkyYiTD1+YQAzoHvAOaSwrYi0f0EcjD7KUydTPkIfBGPDfwe5rGst07EXhCb7kzSk+IX/h6eLWxGMGNLya5vbrlQZpFnXSeycoW4TaxBBVDw23yf3qguTfojIRmMHne6bII50C8rxwOHWiluX1NN8XsFHs7SxKKaseXll8988Z41pknocd2q0yUfeIf7ofgHH9KKVjVKc9QJg5UDry9aRXVUxBOSVzh9iNkUlkYHtu9x7pTDNE9xSRq/Ky2L08g5IISE42SmegKlByji4cZGsG93KJjzlGDn2BsU/oS84oWZmG/APY2ck3zKeCcopwYATCeOjmKq10E6CRUjba+mdzcSqgJdOZw2VG1R2GCvaOqS3OrMxsvRlUv++Ox++o+tTsppYeKjGm7lADqFMMn/Fdf+Ts+Z0FZrUzVD0QwooJCOElK3S6t6RJ9bQ2lFaaIiDJ7rGS5lNJMS7mKFuVrOgNbuqWWAzeUfqQCTcFhSKzPaRGr+vnPG38VXp/oo1Rhujnb9pQ44EL2cwiCnBiwoYBK1HAhDmlbRECKIgSJChRvHi5TQ8tfEuQpKbrMJFBBhb02NEBFo3fDJVhBAjgJ8xdQoQI3zP+B8PxaLIJz6YTAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTAyLTIxVDA4OjUyOjI5KzAwOjAwIu73FAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wMi0yMVQwODo1MjoyOSswMDowMFOzT6gAAAAASUVORK5CYII=\""],"sourceRoot":""}