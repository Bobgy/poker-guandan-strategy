{"version":3,"sources":["imgs/neko-40x40.png","cardUtils.ts","Divider.tsx","Card.tsx","MyButton.tsx","CardsChooser.tsx","portCppModule.ts","loadCppModule.ts","styles.tsx","RankChooser.tsx","Home.tsx","useResultState.ts","icons/close.svg","SolutionVisualization.tsx","App.tsx","useCardState.ts","serviceWorker.ts","index.tsx"],"names":["module","exports","RANKS","value","label","isJoker","map","data","RANK","reduce","rankIndex","rank","SUIT","H","color","D","S","C","B","R","SUITS","SUITS_JOKER","ALL_CARDS_ONE_DECK","suit","res","cards","push","apply","Object","toConsumableArray","cardCompare","a","b","rankA","findIndex","rankB","Error","generateRandomHands","i","length","j","Math","floor","random","x","shuffle","concat","slice","sort","canIAddCard","cardToAdd","filter","card","styles","StyleSheet","create","divider","height","backgroundColor","marginHorizontal","Divider","react_default","createElement","View","style","width","borderColor","borderWidth","borderRadius","cardStacked","marginRight","marginBottom","Card","_ref","isStacked","disabled","rankDef","suitDef","Text","fontFamily","fontSize","lineHeight","textAlign","marginTop","fontWeight","split","join","Image","source","uri","nekoImg","position","left","top","right","bottom","CardDeck","_ref2","hands","ScrollView","contentContainerStyle","flexWrap","flexDirection","padding","paddingRight","STACKED_CARD_MARGIN","paddingBottom","index","assign","key","hand","handID","handNode","cardID","maxWidth","MyButton","titleStyle","title","restProps","objectWithoutProperties","TouchableOpacity","theme","background","button","paddingVertical","paddingHorizontal","alignItems","justifyContent","text","palette","0","4","6","8","controlStyles","incDecButton","flex","minWidth","margin","actionButton","buttonTitle","buttonTitleSmall","ControlPanel","props","alignContent","MyButton_MyButton","onPress","decRank","rankID","incRank","randomCards","numberOfCards","clearCards","deleteLastCard","AddCardPanel","Fragment","canIAddThisCard","addCard","CardsChooser","_useIncDecState","defaultValue","arguments","undefined","_useState","useState","_useState2","slicedToArray","setValue","increase","useCallback","valueNow","decrease","useIncDecState","Card_CardDeck","flexGrow","horizontal","CardsChooser_AddCardPanel","CardsChooser_ControlPanel","portCppModule","cppModule","calc","mainRank","_cppModule$calc","charCodeAt","minHands","solutionsRaw","vec","arr","size","get","vector2Array","solutions","parseSolutions","cardRegex","restoreWildCards","usedWildCards","wildCard","wildCardsToUse","restoredHands","forEach","foundCardID","indexOf","splice","newHand","parsedSolutions","wildCards","wildCardsRawStr","str","match","handsRawStr","asHands","foundCards","actualHands","parseSolutionsUnsafe","e","console","log","commonStyles","container","borderBox","RankChooser","setRank","Picker","selectedValue","onValueChange","itemValue","rankOption","Item","strategyModule","Home","screenProps","navigation","useEffect","Promise","resolve","reject","window","Module","s","document","src","onload","onRuntimeInitialized","onAbort","onerror","body","appendChild","then","strategyResult","setResult","handleSolutionCalcButton","setTimeout","cardsStr","cardsToString","result","navigate","isReady","useResultState","_extends","target","prototype","hasOwnProperty","call","this","close_ref","fill","d","close_ref2","close_SvgClose","viewBox","WindowSizeToggle","__webpack_require__","p","toggleWindowSize","MemoedSolutionWindow","memo","hiddenMoreSolutions","solution","solutionIndex","cardRaw","parseRawCard","React","onClose","SolutionVisualization_WindowSizeToggle","ResultPage","closeResultPage","src_SolutionVisualization","Fade","children","show","in","timeout","Animated","Value","fadeAnim","_useState3","_useState4","mounted","updateMount","timeoutID","timing","toValue","duration","start","clearTimeout","opacity","absoluteChild","AppNavigator","_ref3","route","useMemo","App_Fade","App","_useState5","_useState6","cardStateProps","setCards","cardsNow","useCardState","resultProps","_useState7","_useState8","App_AppNavigator","objectSpread","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","error","AppRegistry","registerComponent","runApplication","rootTag","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","status","ready","unregister","reload","checkValidServiceWorker","guidanceNode","parentNode","removeChild","removeWechatGuidance"],"mappings":"0EAAAA,EAAAC,QAAA,mgECGaC,EAAQ,CACnB,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,CACEC,MAAO,IACPC,MAAO,KACPC,SAAS,GAEX,IACA,IACA,IACA,IACA,CACEF,MAAO,IACPC,MAAO,QACPC,SAAS,IAEXC,IAAI,SAAAC,GACJ,GAAoB,kBAATA,EACT,OAAOA,EAGP,MAAO,CACLH,MAFWG,EAGXJ,MAHWI,EAIXF,SAAS,KAWFG,EAAkBN,EAAMO,OAAO,SAACC,EAAsBC,GAEjE,OADAD,EAAUC,EAAKR,OAASQ,EACjBD,GACN,IAQUE,EAAmB,CAC9BC,EAAG,CACDV,MAAO,IACPC,MAAO,SACPU,MAAO,OAETC,EAAG,CACDZ,MAAO,IACPC,MAAO,SACPU,MAAO,OAETE,EAAG,CACDb,MAAO,IACPC,MAAO,SACPU,MAAO,SAETG,EAAG,CACDd,MAAO,IACPC,MAAO,SACPU,MAAO,SAETI,EAAG,CAEDf,MAAO,IACPC,MAAO,GACPU,MAAO,SAETK,EAAG,CAEDhB,MAAO,IACPC,MAAO,GACPU,MAAO,QAGEM,EAAQ,CAACR,EAAKC,EAAGD,EAAKI,EAAGJ,EAAKK,EAAGL,EAAKG,GACtCM,EAAc,CAACT,EAAKM,EAAGN,EAAKO,GAEnCG,EAA8BpB,EAAMI,IAAI,SAAAK,GAAI,OAChDA,EAAKN,QACDgB,EAAYf,IAAI,SAAAiB,GAAI,MAAK,CACvBZ,KAAMA,EAAKR,MACXoB,KAAMA,EAAKpB,SAEbiB,EAAMd,IAAI,SAAAiB,GAAI,MAAK,CACjBZ,KAAMA,EAAKR,MACXoB,KAAMA,EAAKpB,WAEjBM,OAAO,SAACe,EAAKC,GAEb,OADAD,EAAIE,KAAJC,MAAAH,EAAGI,OAAAC,EAAA,EAAAD,CAASH,IACLD,GACN,IAiBH,SAASM,EAAYC,EAAUC,GAC7B,IAAMC,EAAQ/B,EAAMgC,UAAU,SAAAvB,GAAI,OAAIA,EAAKR,QAAU4B,EAAEpB,OACjDwB,EAAQjC,EAAMgC,UAAU,SAAAvB,GAAI,OAAIA,EAAKR,QAAU6B,EAAErB,OACvD,IAAe,IAAXsB,IAA2B,IAAXE,EAClB,MAAM,IAAIC,MAAM,6BAA+BL,EAAI,IAAMC,GAE3D,OAAIC,IAAUE,EACLF,EAAQE,EAGVJ,EAAER,KAAOS,EAAET,MAAQ,EAAIQ,EAAER,OAASS,EAAET,KAAO,EAAI,EAWjD,SAASc,IACd,OAhCF,SAAoBN,GAClB,IAAK,IAAIO,EAAIP,EAAEQ,OAAS,EAAGD,EAAI,EAAGA,IAAK,CACrC,IAAME,EAAIC,KAAKC,MAAMD,KAAKE,UAAYL,EAAI,IACpCM,EAAIb,EAAEO,GACZP,EAAEO,GAAKP,EAAES,GACTT,EAAES,GAAKI,EAET,OAAOb,EA0BLc,CAAO,GAAAC,OAAAlB,OAAAC,EAAA,EAAAD,CAAKN,GAALM,OAAAC,EAAA,EAAAD,CAA4BN,KAAqByB,MAAM,EAAG,IAL1DC,KAAKlB,GAST,SAASmB,EAAYxB,EAAgByB,GAC1C,OAAOzB,EAAM0B,OAAO,SAAAC,GAAI,OAdK,IAAtBtB,EAc+BsB,EAAMF,KAAYX,OAAS,uBCpJ7Dc,EAASC,IAAWC,OAAO,CAC/BC,QAAS,CACPC,OAAQ,EACRC,gBAAiB,QACjBC,iBAAkB,MAIf,SAASC,IACd,OAAOC,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CAAMC,MAAOX,EAAOG,uCCIvBH,EAASC,IAAWC,OAAO,CAC/BH,KAAM,CACJa,MAAO,GACPR,OAAQ,IACRC,gBAAiB,QACjBQ,YAAa,QACbC,YAAa,EACbC,aAAc,GAEhBC,YAAa,CACXC,aAZwB,GAaxBC,cAbwB,MAiBrB,SAASC,EAATC,GAUJ,IATD9D,EASC8D,EATD9D,KACAY,EAQCkD,EARDlD,KACAmD,EAOCD,EAPDC,UACAC,EAMCF,EANDE,SACAX,EAKCS,EALDT,MAMMY,EAAUpE,EAAKG,GACfkE,EAAUjE,EAAKW,GACrB,OACEsC,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CAAMC,MAAO,CAACX,EAAOD,KAAMsB,GAAarB,EAAOgB,YAAaL,IAC1DH,EAAA9B,EAAA+B,cAACgB,EAAA,EAAD,CACEd,MAAO,CACLe,WAAY,YACZC,SAAU,GACVlE,MAAO+D,EAAQ/D,MACfmE,WAAY,GACZC,UAAW,SACXjB,MAAO,GACPkB,UAAW,EACXC,WAAY,SAGK,OAAlBR,EAAQxE,MACLwE,EAAQxE,MACRwE,EAAQxE,MAAMiF,MAAM,IAAIC,KAAK,MAChC,KACAT,EAAQzE,OAEXyD,EAAA9B,EAAA+B,cAACyB,EAAA,EAAD,CACEC,OAAQ,CAAEC,IAAKC,KACf1B,MAAO,CACL2B,SAAU,WACVC,KAAM,mBACNC,IAAK,mBACL5B,MAAO,GACPR,OAAQ,MAGXkB,GACCd,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CACEC,MAAO,CACL2B,SAAU,WACVC,KAAM,EACNE,MAAO,EACPD,IAAK,EACLE,OAAQ,EACRrC,gBAAiB,yBAQ7B,IAQasC,EAAmD,SAAAC,GAI1D,IAHJxE,EAGIwE,EAHJxE,MACAyE,EAEID,EAFJC,MACAlC,EACIiC,EADJjC,MAEA,OACEH,EAAA9B,EAAA+B,cAACqC,EAAA,EAAD,CACEnC,MAAOA,EACPoC,sBAAuB,CACrBC,SAAU,OACVC,cAAe,MACfC,QAlBkB,EAmBlBC,aAAcC,GACdC,cAAeD,OAGdhF,GACDA,EAAMnB,IAAI,SAAC8C,EAAMuD,GAAP,OACR9C,EAAA9B,EAAA+B,cAACU,EAAD5C,OAAAgF,OAAA,CAAMC,IAAKzD,EAAKzC,KAAOyC,EAAK7B,KAAOoF,GAAWvD,EAA9C,CAAoDsB,WAAS,SAE9DwB,GACDA,EAAM5F,IAAI,SAACwG,EAAMC,GACf,IAAMC,EAAWF,EAAKxG,IAAI,SAAC8C,EAAM6D,GAAP,OACxBpD,EAAA9B,EAAA+B,cAACU,EAAD5C,OAAAgF,OAAA,CAAMC,IAAKzD,EAAKzC,KAAOyC,EAAK7B,KAAO0F,GAAY7D,EAA/C,CAAqDsB,WAAS,OAGhE,OAAIqC,EAAS,EAGTlD,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CACEC,MAAO,CACLsC,cAAe,MACfD,SAAU,SACV/B,YAzCE,IA2CJuC,IAAKE,GAEJC,GAMHnD,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CACEC,MAAO,CACLsC,cAAe,MACfD,SAAU,OACV/B,YAvDE,GAwDF4C,SAAU,QAEZL,IAAKE,GAEJC,eCvIJG,EAA6C,SAAA1C,GAAA,IACxDT,EADwDS,EACxDT,MACAoD,EAFwD3C,EAExD2C,WACAC,EAHwD5C,EAGxD4C,MACA1C,EAJwDF,EAIxDE,SACG2C,EALqD1F,OAAA2F,EAAA,EAAA3F,CAAA6C,EAAA,kDAOxDZ,EAAA9B,EAAA+B,cAAC0D,EAAA,EAAD5F,OAAAgF,OAAA,CACE5C,MAAO,CACL,CACEN,gBAAiBiB,EACb8C,EAAM9C,SAAS+C,WACfD,EAAME,OAAOD,WACjBtD,aAAc,EACdwD,gBAAiB,EACjBC,kBAAmB,EACnBC,WAAY,SACZC,eAAgB,UAElB/D,GAEFW,SAAUA,GACN2C,GAEJzD,EAAA9B,EAAA+B,cAACgB,EAAA,EAAD,CACEd,MAAO,CACL,CACElD,MAAO6D,EAAW8C,EAAM9C,SAASqD,KAAO,QACxC9C,UAAW,UAEbkC,IAGDC,KClCDY,EACE,oBADFA,EAEE,CACJC,EAAG,QACHC,EAAG,qBACHC,EAAG,qBACHC,EAAG,SAIMZ,EAAQ,CACnB9C,SAAU,CACR+C,WAAYO,EAAa,GACzBD,KAAMC,EAAa,IAErBN,OAAQ,CACND,WAAYO,IAoBhB,IAAMK,EAAgBhF,IAAWC,OAAO,CACtCgF,aAAc,CACZC,KAAM,EACNC,SAAU,GACVvB,SAAU,IACVwB,OAAQ,GAEVC,aAAc,CACZH,KAAM,EACNC,SAAU,GACVvB,SAAU,IACVwB,OAAQ,GAEVE,YAAa,CACX5D,SAAU,IAEZ6D,iBAAkB,CAChB7D,SAAU,MAYR8D,EAA2D,SAAAC,GAAK,OACpElF,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,KACEF,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CACEC,MAAO,CACLsC,cAAe,MACfyB,eAAgB,SAChBiB,aAAc,WAGhBnF,EAAA9B,EAAA+B,cAACmF,EAAD,CACEC,QAASH,EAAMI,QACfxE,SAAUoE,EAAMK,QAAU,EAC1B/B,MAAM,IACNrD,MAAOsE,EAAcC,aACrBnB,WAAYkB,EAAcM,cAE5B/E,EAAA9B,EAAA+B,cAACmF,EAAD,CACEC,QAASH,EAAMM,QACfhC,MAAM,IACN1C,SAAUoE,EAAMK,QAAUlJ,EAAMqC,OAAS,EACzCyB,MAAOsE,EAAcC,aACrBnB,WAAYkB,EAAcM,eAG9B/E,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CACEC,MAAO,CACLsC,cAAe,MACfyB,eAAgB,SAChBiB,aAAc,WAGhBnF,EAAA9B,EAAA+B,cAACmF,EAAD,CACEC,QAASH,EAAMO,YACfjC,MAAM,2BACN1C,SAAUoE,EAAMQ,cAAgB,EAChCvF,MAAOsE,EAAcK,aACrBvB,WAAYkB,EAAcO,mBAE5BhF,EAAA9B,EAAA+B,cAACmF,EAAD,CACEC,QAASH,EAAMS,WACfnC,MAAM,eACN1C,SAAkC,IAAxBoE,EAAMQ,cAChBvF,MAAOsE,EAAcK,aACrBvB,WAAYkB,EAAcM,cAE5B/E,EAAA9B,EAAA+B,cAACmF,EAAD,CACEC,QAASH,EAAMU,eACfpC,MAAM,eACN1C,SAAkC,IAAxBoE,EAAMQ,cAChBvF,MAAOsE,EAAcK,aACrBvB,WAAYkB,EAAcM,iBAW5Bc,EAA2D,SAAAX,GAAK,OACpElF,EAAA9B,EAAA+B,cAAAD,EAAA9B,EAAA4H,SAAA,MACIzJ,EAAM6I,EAAMK,QAAQ/I,QAAUgB,EAAcD,GAAOd,IAAI,SAAAiB,GACvD,IAAM6B,EAAO,CACX7B,KAAMA,EAAKpB,MACXQ,KAAMT,EAAM6I,EAAMK,QAAQjJ,OAEtByJ,EAAkB3G,EAAY8F,EAAMtH,MAAO2B,GAEjD,OACES,EAAA9B,EAAA+B,cAAC0D,EAAA,EAAD,CACEX,IAAKtF,EAAKpB,MACV+I,QAAS,kBAAMH,EAAMc,QAAQzG,IAC7BuB,UAAWiF,GAEX/F,EAAA9B,EAAA+B,cAACU,EAAD,CACEjD,KAAMA,EAAKpB,MACXQ,KAAMT,EAAM6I,EAAMK,QAAQjJ,MAC1BwE,UAAWiF,EACX5F,MAAO,CAAE0E,OAAQ,UAQtB,SAASoB,EAATrF,GAMO,IALZhD,EAKYgD,EALZhD,MACAoI,EAIYpF,EAJZoF,QACAL,EAGY/E,EAHZ+E,WACAF,EAEY7E,EAFZ6E,YACAG,EACYhF,EADZgF,eACYM,EA3Id,WAA0C,IAAlBC,EAAkBC,UAAA1H,OAAA,QAAA2H,IAAAD,UAAA,GAAAA,UAAA,GAAH,EAAGE,EACdC,mBAASJ,GADKK,EAAAzI,OAAA0I,EAAA,EAAA1I,CAAAuI,EAAA,GACjChK,EADiCkK,EAAA,GAC1BE,EAD0BF,EAAA,GASxC,MAAO,CACLlK,QACAqK,SATeC,sBAAY,kBAAMF,EAAS,SAAAG,GAAQ,OAAIA,EAAW,KAAI,CACrEH,IASAI,SAPeF,sBAAY,kBAAMF,EAAS,SAAAG,GAAQ,OAAIA,EAAW,KAAI,CACrEH,KA0IEK,GAHKxB,EAFGW,EAEV5J,MACUkJ,EAHAU,EAGVS,SACUrB,EAJAY,EAIVY,SAGF,OACE9G,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CAAMC,MAAO,CAAEwE,KAAM,IACnB3E,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CAAMC,MAAO,CAAEwE,KAAM,EAAGV,WAAY,SAAUC,eAAgB,WAC5DlE,EAAA9B,EAAA+B,cAAC+G,EAAD,CACEpJ,MAAOA,EACPuC,MAAO,CACLP,OAAQ,GACR8C,QAAS,MAIf1C,EAAA9B,EAAA+B,cAACF,EAAD,MACAC,EAAA9B,EAAA+B,cAACgB,EAAA,EAAD,CAAMd,MAAO,CAAEgB,SAAU,GAAI0D,OAAQ,IAArC,2EAAA5F,OACErB,EAAMc,OADR,iBAGAsB,EAAA9B,EAAA+B,cAACqC,EAAA,EAAD,CACEnC,MAAO,CACLP,OAAQ,IACRqH,SAAU,GAEZ1E,sBAAuB,CACrBoC,KAAM,EACNT,eAAgB,UAElBgD,YAAU,GAEVlH,EAAA9B,EAAA+B,cAACkH,EAAD,CAAcvJ,MAAOA,EAAOoI,QAASA,EAAST,OAAQA,KAExDvF,EAAA9B,EAAA+B,cAACmH,EAAD,CACE1B,cAAe9H,EAAMc,OACrBiH,WAAYA,EACZF,YAAaA,EACbG,eAAgBA,EAChBL,OAAQA,EACRC,QAASA,EACTF,QAASA,KCrNV,SAAS+B,EAAcC,GAC5B,MAAO,CACLC,KAAM,SAAC3J,EAAe4J,GAAqC,IAAAC,EACNH,EAAUC,KAC3D3J,EACA4J,EAASE,WAAW,IAFdC,EADiDF,EACjDE,SAIFC,ECkCL,SAAsBC,GAE3B,IADA,IAAMC,EAAM,GACHrJ,EAAI,EAAGA,EAAIoJ,EAAIE,SAAUtJ,EAChCqJ,EAAIjK,KAAKgK,EAAIG,IAAIvJ,IAGnB,OAAOqJ,EDxCkBG,CALoCR,EACvCS,WAMlB,MAAO,CACLP,WACAC,eACAM,UAAWC,EAAeP,MAMlC,IAAMQ,EAAY,cAGX,SAASC,EACdhG,EACAiG,EACAC,GAEA,IAAMC,EAAczK,OAAAC,EAAA,EAAAD,CAAOuK,GACrBG,EAAa1K,OAAAC,EAAA,EAAAD,CAAOsE,GAgB1B,GAdAA,EAAMqG,QAAQ,SAACzF,EAAMC,GACnBD,EAAKyF,QAAQ,SAACnJ,EAAM6D,GAClB,GAAIoF,EAAe9J,OAAS,EAAG,CAC7B,IAAMiK,EAAcH,EAAeI,QAAQrJ,GAC3C,GAAIoJ,GAAe,EAAG,CACpBH,EAAeK,OAAOF,EAAa,GACnC,IAAMG,EAAO/K,OAAAC,EAAA,EAAAD,CAAO0K,EAAcvF,IAClC4F,EAAQD,OAAOzF,EAAQ,EAAGmF,GAC1BE,EAAcvF,GAAU4F,QAM5BN,EAAe9J,OAAS,EAC1B,MAAM,IAAIH,MAAJ,8DAAAU,OAC0DoD,EAD1D,wBAAApD,OACsFqJ,EADtF,iBAAArJ,OACmHsJ,EADnH,MAKR,OAAOE,EAGF,SAASN,EAAeD,GAC7B,IACE,OAOG,SAA8BA,GAInC,IAHA,IAAMa,EAAkB,GACpBC,EAA6B,KAExBvK,EAAI,EAAGA,EAAIyJ,EAAUxJ,SAAUD,EAAG,CACzC,GAA4B,IAAxByJ,EAAUzJ,GAAGC,OACf,MAAM,IAAIH,MAAM,yCAA2CE,GAG7D,GAAwB,MAApByJ,EAAUzJ,GAAG,GAAY,CAE3B,IAAMwK,EAAkBf,EAAUzJ,GAClCuK,EAAYC,EAAgBzH,MAAM,KAAKlC,OAAO,SAAA4J,GAAG,OAAIA,EAAIC,MAAMf,SAC1D,CAEL,GAAiB,MAAbY,EACF,MAAM,IAAIzK,MACR,4DAIJ,IAAM6K,EAAclB,EAAUzJ,GACxB4K,EAAUD,EACb5H,MAAM,KACN/E,IAAI,SAAAwG,GAAI,OAAIA,EAAKzB,MAAM,KAAKlC,OAAO,SAAA4J,GAAG,OAAIA,EAAIC,MAAMf,OACpD9I,OAAO,SAAAgK,GAAU,OAAIA,EAAW5K,OAAS,IACtC6K,EAAclB,EAAiBgB,EAASL,EAAW,MAEzDD,EAAgBlL,KAAK,CACnBmL,YACAO,cACAF,aAMN,OAAON,EA5CES,CAAqBtB,GAC5B,MAAOuB,GAEP,MADAC,QAAQC,IAAIzB,GACNuB,GEzDH,IAAMG,EAAenK,IAAWC,OAAO,CAC5CmK,UAAW,CACTnH,QAAS,IAEXoH,UAAW,CACTxJ,YAAa,EACbD,YAAa,oBCHV,SAAS0J,EAATnJ,GAAmD,IAA5B9D,EAA4B8D,EAA5B9D,KAAMkN,EAAsBpJ,EAAtBoJ,QAClC,OACEhK,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CACEC,MAAO,CACLsC,cAAe,QAGjBzC,EAAA9B,EAAA+B,cAACgB,EAAA,EAAD,CAAMd,MAAO,CAAEgB,SAAU,GAAIrB,iBAAkB,IAA/C,qBAEEE,EAAA9B,EAAA+B,cAACgK,EAAA,EAAD,CACEC,cAAepN,EACfqN,cAAe,SAAAC,GAAS,OAAIJ,EAAQI,KAEnC/N,EAAMiD,OAAO,SAAA+K,GAAU,OAAKA,EAAW7N,UAASC,IAAI,SAAA4N,GAAU,OAC7DrK,EAAA9B,EAAA+B,cAACgK,EAAA,EAAOK,KAAR,CACEtH,IAAKqH,EAAW/N,MAChBC,MAAO8N,EAAW9N,MAClBD,MAAO+N,EAAW/N,WAGd,IACV0D,EAAA9B,EAAA+B,cAACgB,EAAA,EAAD,CAAMd,MAAO,CAAElD,MAAOF,EAAKC,EAAEC,QAC1BF,EAAKC,EAAET,MACPI,EAAKG,GAAMP,OAhBhB,uBCDN,IAAIgO,EAAyC,KAEtC,SAASC,EAAT5J,GAA4D,IAA5C6J,EAA4C7J,EAA5C6J,YAAaC,EAA+B9J,EAA/B8J,WAClCC,oBAAU,WHuCH,IAAIC,QAAQ,SAACC,EAASC,GAC3B,GAAIC,OAAOC,OACT,OAAOH,EAAQxD,EAAc0D,OAAOC,SAEpC,IAAMC,EAAIC,SAASjL,cAAc,UACjCgL,EAAEE,IAAM,kBACRF,EAAEG,OAAS,WACT,IAAM9D,EAAYyD,OAAOC,OACzB1D,EAAU+D,qBAAuB,WAC/BR,EAAQxD,EAAc0D,OAAOC,UAE/B1D,EAAUgE,QAAU,WAClBR,EAAO,wCAGXG,EAAEM,QAAU,kBAAMT,EAAO,+BACzBI,SAASM,KAAKC,YAAYR,KGtDZS,KAAK,SAAApE,GACnBiD,EAAiBjD,KASlB,IAZ8D,IAe/DxK,EASE2N,EATF3N,KACAkN,EAQES,EARFT,QACApM,EAOE6M,EAPF7M,MACA+H,EAME8E,EANF9E,WACAK,EAKEyE,EALFzE,QACAP,EAIEgF,EAJFhF,YACAG,EAGE6E,EAHF7E,eACA+F,EAEElB,EAFFkB,eACAC,EACEnB,EADFmB,UAGIC,EAA2BjF,sBAAY,WAC3CgF,EAAU,WAEVE,WAAW,WACT,GAAsB,MAAlBvB,EAAwB,CAE1B,IAAMwB,ET6GP,SAAuBnO,GAC5B,OAAOA,EACJnB,IAAI,SAAA8C,GACH,MAAkB,MAAdA,EAAKzC,KAEc,MAAdyC,EAAK7B,KAAe,KAAO,KAE7B6B,EAAKzC,KAAOyC,EAAK7B,OAEzB+D,KAAK,IStHeuK,CAAcpO,GAEzBqO,EAAS1B,EAAehD,KAAKwE,EAAUjP,GAG7CgP,WAAW,WACTpB,EAAWwB,SAAS,UACpBN,EAAUK,IACT,OAEJ,IACF,CAACrO,EAAOgO,EAAWlB,IAEtB,OACE1K,EAAA9B,EAAA+B,cAAAD,EAAA9B,EAAA4H,SAAA,KACE9F,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CACEC,MAAO,CACLyJ,EAAaC,UACb,CACEjK,OAAQ,GACRsE,eAAgB,SAChBD,WAAY,YAIhBjE,EAAA9B,EAAA+B,cAAC8J,EAAD,CAAajN,KAAMA,EAAMkN,QAASA,KAEpChK,EAAA9B,EAAA+B,cAACF,EAAD,MACAC,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CACEC,MAAO,CACLwE,KAAM,IAGR3E,EAAA9B,EAAA+B,cAACgG,EAAD,CACErI,MAAOA,EACPoI,QAASA,EACTL,WAAYA,EACZF,YAAaA,EACbG,eAAgBA,KAGpB5F,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CACEC,MAAO,CACLyJ,EAAaC,UACb,CACE3F,eAAgB,SAChBxB,QAAS,KAIX,WACA,IAAMyJ,EAA6B,YAAnBR,EAChB,OACE3L,EAAA9B,EAAA+B,cAACmF,EAAD,CACE5B,MAAO2I,EAAU,2BAAS,wBAC1BrL,UAAWqL,EACX9G,QAASwG,EACT1L,MAAO,CAAEP,OAAQ,IACjB2D,WAAY,CAAEpC,SAAU,MAR5B,KCvFH,IAAMiL,EAAiB,WAAM,IAAA9F,EACEC,mBAA8B,MADhCC,EAAAzI,OAAA0I,EAAA,EAAA1I,CAAAuI,EAAA,GAElC,MAAO,CACLqF,eAHgCnF,EAAA,GAIhCoF,UAJgCpF,EAAA,KCRpC,SAAA6F,IAAmR,OAA9PA,EAAAtO,OAAAgF,QAAA,SAAAuJ,GAAgD,QAAA7N,EAAA,EAAgBA,EAAA2H,UAAA1H,OAAsBD,IAAA,CAAO,IAAAkD,EAAAyE,UAAA3H,GAA2B,QAAAuE,KAAArB,EAA0B5D,OAAAwO,UAAAC,eAAAC,KAAA9K,EAAAqB,KAAyDsJ,EAAAtJ,GAAArB,EAAAqB,IAAiC,OAAAsJ,IAAkBxO,MAAA4O,KAAAtG,WAInR,IAAIuG,EAEJ3M,EAAA9B,EAAK+B,cAAA,QACL2M,KAAA,OACAC,EAAA,oBAGIC,EAEJ9M,EAAA9B,EAAK+B,cAAA,QACL4M,EAAA,kHAGIE,GAAQ,SAAA7H,GACZ,OAASlF,EAAA9B,EAAK+B,cAAA,MAAAoM,EAAA,CACdjM,MAAA,GACAR,OAAA,GACAoN,QAAA,aACG9H,GAAUyH,EAAMG,ICIbG,IDDSC,EAAAC,ECGX,SAAAjI,GAAK,OACPlF,EAAA9B,EAAA+B,cAAC0D,EAAA,EAAD,CACExD,MAAO,CACL,CACEC,MAAO,GACPqC,cAAe,MACfyB,eAAgB,SAChBD,WAAY,UAEdiB,EAAM/E,OAERkF,QAASH,EAAMkI,kBAEfpN,EAAA9B,EAAA+B,cAAC8M,GAAD,SA+DEM,GAAuBC,eAvDwC,SAAApI,GAAK,OACxElF,EAAA9B,EAAA+B,cAACqC,EAAA,EAAD,CACEnC,MAAO,CACLyJ,EAAaC,UACb,CACElF,KAAM,KAITO,EAAMyG,iBACqB,YAAzBzG,EAAMyG,eACL3L,EAAA9B,EAAA+B,cAACgB,EAAA,EAAD,CACEd,MAAO,CACLgB,SAAU,MAMdnB,EAAA9B,EAAA+B,cAAAD,EAAA9B,EAAA4H,SAAA,KACE9F,EAAA9B,EAAA+B,cAACgB,EAAA,EAAD,oBAAAhC,OAAYiG,EAAMyG,eAAehE,SAAjC,mCACA3H,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,KACI,WACA,IACMqN,EADiBrI,EAAMyG,eAAezD,UAAUxJ,OACT,GAC7C,OACEsB,EAAA9B,EAAA+B,cAAAD,EAAA9B,EAAA4H,SAAA,KACGZ,EAAMyG,eAAezD,UACnBhJ,MAAM,EAAG,IACTzC,IAAI,SAAC+Q,EAAUC,GAAX,OACHzN,EAAA9B,EAAA+B,cAAC+G,EAAD,CACEhE,IAAKyK,EACLpL,MAAOmL,EAASjE,YAAY9M,IAAI,SAAAwG,GAAI,OAClCA,EAAKxG,IAAI,SAAA8C,GAAI,OZoFhC,SAAsBmO,EAAkBnF,GAC7C,GAAuB,IAAnBmF,EAAQhP,OACV,MAAM,IAAIH,MAAM,qCAGlB,MAAgB,OAAZmP,EACK,CACL5Q,KAAM,IACNY,KAAM,KAGM,OAAZgQ,EACK,CACL5Q,KAAM,IACNY,KAAM,KAGM,OAAZgQ,EACKnF,EAGF,CACLzL,KAAM4Q,EAAQ,GACdhQ,KAAMgQ,EAAQ,IY1GUC,CAAapO,EAAM,CACjBzC,KAAMoI,EAAMpI,KACZY,KAAM,UAIZyC,MAAO,CACL0E,OAAQ,OAIf0I,EAAsB,GAAtB,eAAAtO,OACMsO,EADN,yFAvBL,SAyECK,OAAMN,KApCjB,SAAA1M,GAAA,IAAG+K,EAAH/K,EAAG+K,eAAgB7O,EAAnB8D,EAAmB9D,KAAM+Q,EAAzBjN,EAAyBiN,QAAzB,OACF7N,EAAA9B,EAAA+B,cAAAD,EAAA9B,EAAA4H,SAAA,KACE9F,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CACEC,MAAO,CACLsC,cAAe,MACfyB,eAAgB,WAChBiB,aAAc,WAGhBnF,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CAAMC,MAAO,CAAEwE,KAAM,IACnB3E,EAAA9B,EAAA+B,cAACgB,EAAA,EAAD,CACEd,MAAO,CACLgB,SAAU,GACVuB,QAAS,EACTrB,UAAW,WAJf,qDAWFrB,EAAA9B,EAAA+B,cAAC6N,GAAD,CACEV,iBAAkBS,EAClB1N,MAAO,CAEL2B,SAAU,WACVG,MAAO,EACPrC,OAAQ,WAIdI,EAAA9B,EAAA+B,cAACF,EAAD,MACAC,EAAA9B,EAAA+B,cAACoN,GAAD,CAAsB1B,eAAgBA,EAAgB7O,KAAMA,OCrHhE,SAASiR,GAATnN,GAAkE,IAA5C6J,EAA4C7J,EAA5C6J,YAAaC,EAA+B9J,EAA/B8J,WACzBiB,EAAyBlB,EAAzBkB,eAAgB7O,EAAS2N,EAAT3N,KAClBkR,EAAkBpH,sBAAY,WAClC8D,EAAWwB,SAAS,SACnB,CAACxB,IAEJ,OACE1K,EAAA9B,EAAA+B,cAACgO,GAAD,CACEtC,eAAgBA,EAChB7O,KAAMA,EACN+Q,QAASG,IAUf,IAAME,GAAqC,SAAA9L,GAKrC,IAJJ+L,EAII/L,EAJJ+L,SACIC,EAGAhM,EAHJiM,GACAlO,EAEIiC,EAFJjC,MACAmO,EACIlM,EADJkM,QACIhI,EACkBC,mBAAS,IAAIgI,IAASC,MAAM,IAD9ChI,EAAAzI,OAAA0I,EAAA,EAAA1I,CAAAuI,EAAA,GACGmI,EADHjI,EAAA,GAAAkI,GAAAlI,EAAA,GAE2BD,mBAAS6H,IAFpCO,EAAA5Q,OAAA0I,EAAA,EAAA1I,CAAA2Q,EAAA,GAEGE,EAFHD,EAAA,GAEYE,EAFZF,EAAA,GA+BJ,OA5BAhE,oBAAU,WACR,GAAIyD,EAAM,CAEHQ,GACHC,GAAY,GAGd,IAAMC,EAAYhD,WAAW,WAC3ByC,IAASQ,OAAON,EAAU,CACxBO,QAAS,EACTC,SAAUX,IACTY,SACF,GAEH,OAAO,kBAAMC,aAAaL,IAE1BP,IAASQ,OAAON,EAAU,CACxBO,QAAS,EACTC,SAAUX,IACTY,QAGH,IAAMJ,EAAYhD,WAAW,WAAW+C,GAAY,IAAQP,EAAU,GAEtE,OAAO,kBAAMa,aAAaL,KAE3B,CAACV,IAEAQ,EAEA5O,EAAA9B,EAAA+B,cAACsO,EAAA,EAASrO,KAAV,CACEC,MAAO,CACL,CACEiP,QAASX,GAEXtO,IAGDgO,GAIE,MAUL3O,GAASC,IAAWC,OAAO,CAC/B2P,cAAe,CACbvN,SAAU,WACVC,KAAM,EACNC,IAAK,EACLC,MAAO,EACPC,OAAQ,KAGNoN,GAAqD,SAAAC,GAKrD,IAJJC,EAIID,EAJJC,MACAtD,EAGIqD,EAHJrD,SACAzB,EAEI8E,EAFJ9E,YACAtK,EACIoP,EADJpP,MAEMuK,EAAa+E,kBACjB,iBAAO,CACLvD,aAEF,CAACA,IAGH,OACElM,EAAA9B,EAAA+B,cAAAD,EAAA9B,EAAA4H,SAAA,KACE9F,EAAA9B,EAAA+B,cAACyP,GAAD,CACE1M,IAAI,OACJ7C,MAAO,CAACX,GAAO6P,cAAelP,GAC9BkO,GAAc,SAAVmB,EACJlB,QAAS,KAETtO,EAAA9B,EAAA+B,cAACuK,EAAD,CAAMC,YAAaA,EAAaC,WAAYA,KAE9C1K,EAAA9B,EAAA+B,cAACyP,GAAD,CACE1M,IAAI,SACJ7C,MAAO,CAACX,GAAO6P,cAAelP,GAC9BkO,GAAc,WAAVmB,EACJlB,QAAS,KAETtO,EAAA9B,EAAA+B,cAAC8N,GAAD,CAAYtD,YAAaA,EAAaC,WAAYA,OAqC3CiF,OA/Bf,WAAe,IAAAC,EACWrJ,mBAAS,KADpBsJ,EAAA9R,OAAA0I,EAAA,EAAA1I,CAAA6R,EAAA,GACN9S,EADM+S,EAAA,GACA7F,EADA6F,EAAA,GAEPC,EChJD,WAAmC,IAAAxJ,EACdC,mBAAkB,IADJC,EAAAzI,OAAA0I,EAAA,EAAA1I,CAAAuI,EAAA,GACjC1I,EADiC4I,EAAA,GAC1BuJ,EAD0BvJ,EAAA,GAcxC,MAAO,CACL5I,QACA+H,WAdiBiB,sBAAY,kBAAMmJ,EAAS,KAAK,CAACA,IAelD/J,QAdcY,sBACd,SAAArH,GAAI,OAAIwQ,EAAS,SAAAC,GAAQ,OAAIA,EAAS/Q,OAAOM,MAC7C,CAACwQ,IAaDtK,YAXkBmB,sBAAY,kBAAMmJ,EAASvR,MAAwB,CACrEuR,IAWAnK,eATqBgB,sBACrB,kBAAMmJ,EAAS,SAAAC,GAAQ,OAAIA,EAAS9Q,MAAM,EAAG8Q,EAAStR,OAAS,MAC/D,CAACqR,KDoIoBE,GACjBC,EAAc9D,IAHP+D,EAIa5J,mBAAS,QAJtB6J,EAAArS,OAAA0I,EAAA,EAAA1I,CAAAoS,EAAA,GAINX,EAJMY,EAAA,GAIClE,EAJDkE,EAAA,GAMb,OACEpQ,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CACEC,MAAO,CACLwE,KAAM,EACN9E,gBAAiB,YACjBD,OAAQ,SAGVI,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CAAMC,MAAO,CAAEP,OAAQ,SACrBI,EAAA9B,EAAA+B,cAACgB,EAAA,EAAD,CAAMd,MAAO,CAAEgB,SAAU,KAAzB,8CACAnB,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CAAMC,MAAO,CAAEwE,KAAM,IACnB3E,EAAA9B,EAAA+B,cAACoQ,GAAD,CACEb,MAAOA,EACP/E,YAAW1M,OAAAuS,EAAA,EAAAvS,CAAA,CAAIjB,OAAMkN,WAAY8F,EAAmBI,GACpDhE,SAAUA,EACV/L,MAAO,CACLwE,KAAM,SE7Jd4L,GAAcC,QACW,cAA7BzF,OAAO0F,SAASC,UAEe,UAA7B3F,OAAO0F,SAASC,UAEhB3F,OAAO0F,SAASC,SAASvH,MACvB,2DA8CN,SAASwH,GAAgBC,EAAeC,GACtCC,UAAUC,cACPC,SAASJ,GACTlF,KAAK,SAAAuF,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBG,QACfR,UAAUC,cAAcQ,YAI1B7H,QAAQC,IACN,gHAKEkH,GAAUA,EAAOW,UACnBX,EAAOW,SAASP,KAMlBvH,QAAQC,IAAI,sCAGRkH,GAAUA,EAAOY,WACnBZ,EAAOY,UAAUR,UAO5BS,MAAM,SAAAC,GACLjI,QAAQiI,MAAM,4CAA6CA,KCnGjEC,IAAYC,kBAAkB,MAAO,kBAAMlC,KAC3CiC,IAAYE,eAAe,MAAO,CAChCC,QAAS7G,SAAS8G,eAAe,UDoB5B,SAAkBnB,GACvB,GAA6C,kBAAmBC,UAAW,CAMzE,GAJkB,IAAImB,IACnBC,0BACDnH,OAAO0F,SAAS0B,MAEJC,SAAWrH,OAAO0F,SAAS2B,OAIvC,OAGFrH,OAAOsH,iBAAiB,OAAQ,WAC9B,IAAMzB,EAAK,GAAA3R,OAAMiT,0BAAN,sBAEP3B,IAgEV,SAAiCK,EAAeC,GAE9CyB,MAAM1B,GACHlF,KAAK,SAAA6G,GAEJ,IAAMC,EAAcD,EAASE,QAAQzK,IAAI,gBAEnB,MAApBuK,EAASG,QACO,MAAfF,IAA8D,IAAvCA,EAAY5J,QAAQ,cAG5CkI,UAAUC,cAAc4B,MAAMjH,KAAK,SAAAuF,GACjCA,EAAa2B,aAAalH,KAAK,WAC7BX,OAAO0F,SAASoC,aAKpBlC,GAAgBC,EAAOC,KAG1Ba,MAAM,WACLhI,QAAQC,IACN,mEArFAmJ,CAAwBlC,EAAOC,GAI/BC,UAAUC,cAAc4B,MAAMjH,KAAK,WACjChC,QAAQC,IACN,+GAMJgH,GAAgBC,EAAOC,MC7C/BE,CAAuB,CACrBU,UAAW,kBAAM/H,QAAQC,IAAI,uCAC7B6H,SAAU,kBAAM9H,QAAQC,IAAI,gCAG9B,WACE,IAAMoJ,EAAehI,OAAOG,SAAS8G,eAAe,mBACpD,GAAIe,EAAc,CAChB,IAAMC,EAAaD,EAAaC,WAC5BA,GACFA,EAAWC,YAAYF,IAK7BG","file":"static/js/main.bf0d3bf6.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAQAAAAm93DmAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfjAhUINB2XPPnXAAAEaElEQVRIx52WWWxUZRTHf3e2TmfrdJlaSWlRlkK6AA1BiCQNWzRIUBACwS1Go2LE0JASwaSVh8qDxroEhBcJFBMTbNQGFRIftAqoIBpKY9vU0EUK0xY6bYdZ78zxodLZ7nTh/3bv+c7vnO+c8333wv0olwp0M3EoZBMZaa0KB/mFnJkAd+BhW1rrKr1b6aV4JsDXHWJpZYGmLcdwdqvMGqRM21W7Es71bCmjFpuG7cWV62qwmrDMJMP63fKPLA3yhjHZsjynt1nuyJIA67VdDZpvc208TJ3ppZrbV2jHRTYWwIuP/c/O3kCQLCO50wfqsDsI4aSwaPiEy5eX77SaDeAPDQcHsjv4kJWYdem6rAXUK47f2M5tqtg3byEF2DAihDO93KKV83xFB5Rg5e506mdgQ0bXajkuNyQqWopIjxyVR/3GM1RNPd5ZHJx/56gMy1QakPekyE0N1slwLuXkOvWPKWHjisrPsiLIYZzpcNmceira9//yoLSLOwHgl0tyMwnaIWtUjmjOKwYOrY30TSxtEpdsE1+c8xdikxcknIJcHuKtWC1jRX1szq53dYUTj0bCWBJqbqOYwpQuLKDe+EA1q1KaofxQnxA5KJfFLaoEREQVv4hEZFD8ml3fKzSRmQjcXO7v0VjcJPslJEekJmWr8bomxSOsid+yjk2Pm4sSIrj5Hcihidf4iJI0Z3RcC1ntYKMS96bA2vZ9UtRjsklCEpW3BdknYRG5LuckkibHE6K/SNZ4bwEKXbOSLz8HrRzCyRnycRPEwHE6WZsmxzKyi4cKGLkHzHdZks/6RsY4Thd1VLCbXRRymnfQpwEWkGcfirt/nlwV9mpspFmWyYCIXJC5skJOJkxlogZlsY+qWFN8PjWgEbecMFcAJzbe57nkyYiTD1+YQAzoHvAOaSwrYi0f0EcjD7KUydTPkIfBGPDfwe5rGst07EXhCb7kzSk+IX/h6eLWxGMGNLya5vbrlQZpFnXSeycoW4TaxBBVDw23yf3qguTfojIRmMHne6bII50C8rxwOHWiluX1NN8XsFHs7SxKKaseXll8988Z41pknocd2q0yUfeIf7ofgHH9KKVjVKc9QJg5UDry9aRXVUxBOSVzh9iNkUlkYHtu9x7pTDNE9xSRq/Ky2L08g5IISE42SmegKlByji4cZGsG93KJjzlGDn2BsU/oS84oWZmG/APY2ck3zKeCcopwYATCeOjmKq10E6CRUjba+mdzcSqgJdOZw2VG1R2GCvaOqS3OrMxsvRlUv++Ox++o+tTsppYeKjGm7lADqFMMn/Fdf+Ts+Z0FZrUzVD0QwooJCOElK3S6t6RJ9bQ2lFaaIiDJ7rGS5lNJMS7mKFuVrOgNbuqWWAzeUfqQCTcFhSKzPaRGr+vnPG38VXp/oo1Rhujnb9pQ44EL2cwiCnBiwoYBK1HAhDmlbRECKIgSJChRvHi5TQ8tfEuQpKbrMJFBBhb02NEBFo3fDJVhBAjgJ8xdQoQI3zP+B8PxaLIJz6YTAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTAyLTIxVDA4OjUyOjI5KzAwOjAwIu73FAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wMi0yMVQwODo1MjoyOSswMDowMFOzT6gAAAAASUVORK5CYII=\"","import { TCard } from './types'\r\nimport { CardRaw } from './loadCppModule'\r\n\r\nexport const RANKS = [\r\n  '2',\r\n  '3',\r\n  '4',\r\n  '5',\r\n  '6',\r\n  '7',\r\n  '8',\r\n  '9',\r\n  {\r\n    value: '0',\r\n    label: '10',\r\n    isJoker: false,\r\n  },\r\n  'J',\r\n  'Q',\r\n  'K',\r\n  'A',\r\n  {\r\n    value: 'X',\r\n    label: 'Joker',\r\n    isJoker: true,\r\n  },\r\n].map(data => {\r\n  if (typeof data === 'object') {\r\n    return data\r\n  } else {\r\n    const rank = data\r\n    return {\r\n      label: rank,\r\n      value: rank,\r\n      isJoker: false,\r\n    }\r\n  }\r\n})\r\ninterface RankIndex {\r\n  [rank: string]: {\r\n    value: string\r\n    label: string\r\n    isJoker: boolean\r\n  }\r\n}\r\nexport const RANK: RankIndex = RANKS.reduce((rankIndex: RankIndex, rank) => {\r\n  rankIndex[rank.value] = rank\r\n  return rankIndex\r\n}, {})\r\ninterface SuiteIndex {\r\n  [suit: string]: {\r\n    value: string\r\n    label: string\r\n    color: string\r\n  }\r\n}\r\nexport const SUIT: SuiteIndex = {\r\n  H: {\r\n    value: 'H',\r\n    label: '♥',\r\n    color: 'red',\r\n  },\r\n  D: {\r\n    value: 'D',\r\n    label: '♦',\r\n    color: 'red',\r\n  },\r\n  S: {\r\n    value: 'S',\r\n    label: '♠',\r\n    color: 'black',\r\n  },\r\n  C: {\r\n    value: 'C',\r\n    label: '♣',\r\n    color: 'black',\r\n  },\r\n  B: {\r\n    // black joker\r\n    value: 'B',\r\n    label: '',\r\n    color: 'black',\r\n  },\r\n  R: {\r\n    // red joker\r\n    value: 'R',\r\n    label: '',\r\n    color: 'red',\r\n  },\r\n}\r\nexport const SUITS = [SUIT.H, SUIT.S, SUIT.C, SUIT.D]\r\nexport const SUITS_JOKER = [SUIT.B, SUIT.R]\r\n\r\nconst ALL_CARDS_ONE_DECK: TCard[] = RANKS.map(rank =>\r\n  rank.isJoker\r\n    ? SUITS_JOKER.map(suit => ({\r\n        rank: rank.value,\r\n        suit: suit.value,\r\n      }))\r\n    : SUITS.map(suit => ({\r\n        rank: rank.value,\r\n        suit: suit.value,\r\n      })),\r\n).reduce((res, cards) => {\r\n  res.push(...cards)\r\n  return res\r\n}, [])\r\n\r\n/**\r\n * reference: https://stackoverflow.com/a/6274381\r\n * Shuffles array in place.\r\n * @param {Array} a items An array containing the items.\r\n */\r\nfunction shuffle<T>(a: T[]): T[] {\r\n  for (let i = a.length - 1; i > 0; i--) {\r\n    const j = Math.floor(Math.random() * (i + 1))\r\n    const x = a[i]\r\n    a[i] = a[j]\r\n    a[j] = x\r\n  }\r\n  return a\r\n}\r\n\r\nfunction cardCompare(a: TCard, b: TCard): number {\r\n  const rankA = RANKS.findIndex(rank => rank.value === a.rank)\r\n  const rankB = RANKS.findIndex(rank => rank.value === b.rank)\r\n  if (rankA === -1 || rankB === -1) {\r\n    throw new Error('rank not found for cards, ' + a + ' ' + b)\r\n  }\r\n  if (rankA !== rankB) {\r\n    return rankA - rankB\r\n  }\r\n\r\n  return a.suit < b.suit ? -1 : a.suit === b.suit ? 0 : 1\r\n}\r\n\r\nfunction cardEqual(a: TCard, b: TCard): boolean {\r\n  return cardCompare(a, b) === 0\r\n}\r\n\r\nfunction sortCards(a: TCard[]): TCard[] {\r\n  return a.sort(cardCompare)\r\n}\r\n\r\nexport function generateRandomHands(): TCard[] {\r\n  return sortCards(\r\n    shuffle([...ALL_CARDS_ONE_DECK, ...ALL_CARDS_ONE_DECK]).slice(0, 27),\r\n  )\r\n}\r\n\r\nexport function canIAddCard(cards: TCard[], cardToAdd: TCard): boolean {\r\n  return cards.filter(card => cardEqual(card, cardToAdd)).length < 2\r\n}\r\n\r\nexport function cardsToString(cards: TCard[]) {\r\n  return cards\r\n    .map(card => {\r\n      if (card.rank === 'X') {\r\n        // big joker and small joker\r\n        return card.suit === 'R' ? 'BJ' : 'SJ'\r\n      }\r\n      return card.rank + card.suit\r\n    })\r\n    .join('')\r\n}\r\n\r\nexport function parseRawCard(cardRaw: CardRaw, wildCard: TCard): TCard {\r\n  if (cardRaw.length !== 2) {\r\n    throw new Error('CardRaw should have a length of 2')\r\n  }\r\n\r\n  if (cardRaw === 'BJ') {\r\n    return {\r\n      rank: 'X',\r\n      suit: 'R',\r\n    }\r\n  }\r\n  if (cardRaw === 'SJ') {\r\n    return {\r\n      rank: 'X',\r\n      suit: 'B',\r\n    }\r\n  }\r\n  if (cardRaw === '??') {\r\n    return wildCard\r\n  }\r\n\r\n  return {\r\n    rank: cardRaw[0],\r\n    suit: cardRaw[1],\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { View, StyleSheet } from 'react-native'\r\n\r\nconst styles = StyleSheet.create({\r\n  divider: {\r\n    height: 2, // avoid floating error\r\n    backgroundColor: 'black',\r\n    marginHorizontal: 10,\r\n  },\r\n})\r\n\r\nexport function Divider() {\r\n  return <View style={styles.divider} />\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport {\r\n  View,\r\n  Text,\r\n  ScrollView,\r\n  Image,\r\n  StyleSheet,\r\n  StyleProp,\r\n  ViewStyle,\r\n} from 'react-native'\r\nimport { SUIT, RANK } from './cardUtils'\r\nimport { TCard } from './types'\r\nimport nekoImg from './imgs/neko-40x40.png'\r\n\r\nconst STACKED_CARD_MARGIN = 52\r\n\r\nconst styles = StyleSheet.create({\r\n  card: {\r\n    width: 74,\r\n    height: 100,\r\n    backgroundColor: 'white',\r\n    borderColor: 'black',\r\n    borderWidth: 2,\r\n    borderRadius: 4,\r\n  },\r\n  cardStacked: {\r\n    marginRight: -STACKED_CARD_MARGIN,\r\n    marginBottom: -STACKED_CARD_MARGIN,\r\n  },\r\n})\r\n\r\nexport function Card({\r\n  rank,\r\n  suit,\r\n  isStacked,\r\n  disabled,\r\n  style,\r\n}: TCard & {\r\n  isStacked?: boolean\r\n  disabled?: boolean\r\n  style?: StyleProp<ViewStyle>\r\n}) {\r\n  const rankDef = RANK[rank]\r\n  const suitDef = SUIT[suit]\r\n  return (\r\n    <View style={[styles.card, isStacked && styles.cardStacked, style]}>\r\n      <Text\r\n        style={{\r\n          fontFamily: 'monospace',\r\n          fontSize: 16,\r\n          color: suitDef.color,\r\n          lineHeight: 16,\r\n          textAlign: 'center',\r\n          width: 20,\r\n          marginTop: 4,\r\n          fontWeight: 'bold',\r\n        }}\r\n      >\r\n        {rankDef.label === '10'\r\n          ? rankDef.label\r\n          : rankDef.label.split('').join('\\n')}\r\n        {'\\n'}\r\n        {suitDef.label}\r\n      </Text>\r\n      <Image\r\n        source={{ uri: nekoImg }}\r\n        style={{\r\n          position: 'absolute',\r\n          left: 'calc(50% - 20px)',\r\n          top: 'calc(50% - 20px)',\r\n          width: 40,\r\n          height: 40,\r\n        }}\r\n      />\r\n      {disabled && (\r\n        <View\r\n          style={{\r\n            position: 'absolute',\r\n            left: 0,\r\n            right: 0,\r\n            top: 0,\r\n            bottom: 0,\r\n            backgroundColor: 'rgba(0, 0, 0, 0.3)',\r\n          }}\r\n        />\r\n      )}\r\n    </View>\r\n  )\r\n}\r\n\r\nconst HAND_MARGIN = 13\r\nconst CONTAINER_PADDING = 0\r\n\r\ninterface CardDeckProps {\r\n  cards?: TCard[]\r\n  hands?: TCard[][]\r\n  style?: StyleProp<ViewStyle>\r\n}\r\nexport const CardDeck: React.FunctionComponent<CardDeckProps> = ({\r\n  cards,\r\n  hands,\r\n  style,\r\n}) => {\r\n  return (\r\n    <ScrollView\r\n      style={style}\r\n      contentContainerStyle={{\r\n        flexWrap: 'wrap',\r\n        flexDirection: 'row',\r\n        padding: CONTAINER_PADDING,\r\n        paddingRight: STACKED_CARD_MARGIN + CONTAINER_PADDING, // cancel margin of hands\r\n        paddingBottom: STACKED_CARD_MARGIN + CONTAINER_PADDING,\r\n      }}\r\n    >\r\n      {!!cards &&\r\n        cards.map((card, index) => (\r\n          <Card key={card.rank + card.suit + index} {...card} isStacked />\r\n        ))}\r\n      {!!hands &&\r\n        hands.map((hand, handID) => {\r\n          const handNode = hand.map((card, cardID) => (\r\n            <Card key={card.rank + card.suit + cardID} {...card} isStacked />\r\n          ))\r\n\r\n          if (handID > 0) {\r\n            // no wrapping\r\n            return (\r\n              <View\r\n                style={{\r\n                  flexDirection: 'row',\r\n                  flexWrap: 'nowrap',\r\n                  marginRight: HAND_MARGIN,\r\n                }}\r\n                key={handID}\r\n              >\r\n                {handNode}\r\n              </View>\r\n            )\r\n          } else {\r\n            // initial hand can be long, allow wrapping as normal\r\n            return (\r\n              <View\r\n                style={{\r\n                  flexDirection: 'row',\r\n                  flexWrap: 'wrap',\r\n                  marginRight: HAND_MARGIN,\r\n                  maxWidth: '100%', // set max width to enable wrapping\r\n                }}\r\n                key={handID}\r\n              >\r\n                {handNode}\r\n              </View>\r\n            )\r\n          }\r\n        })}\r\n    </ScrollView>\r\n  )\r\n}\r\n","import React, { FunctionComponent, ReactNode } from 'react'\r\nimport {\r\n  Text,\r\n  TouchableOpacity,\r\n  TouchableOpacityProps,\r\n  StyleProp,\r\n  TextStyle,\r\n} from 'react-native'\r\nimport { theme } from './CardsChooser'\r\n\r\ninterface MyButtonProps extends TouchableOpacityProps {\r\n  title: ReactNode\r\n  titleStyle?: StyleProp<TextStyle>\r\n}\r\n\r\nexport const MyButton: FunctionComponent<MyButtonProps> = ({\r\n  style,\r\n  titleStyle,\r\n  title,\r\n  disabled,\r\n  ...restProps\r\n}) => (\r\n  <TouchableOpacity\r\n    style={[\r\n      {\r\n        backgroundColor: disabled\r\n          ? theme.disabled.background\r\n          : theme.button.background,\r\n        borderRadius: 2,\r\n        paddingVertical: 8,\r\n        paddingHorizontal: 4,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n      style,\r\n    ]}\r\n    disabled={disabled}\r\n    {...restProps}\r\n  >\r\n    <Text\r\n      style={[\r\n        {\r\n          color: disabled ? theme.disabled.text : 'white',\r\n          textAlign: 'center',\r\n        },\r\n        titleStyle,\r\n      ]}\r\n    >\r\n      {title}\r\n    </Text>\r\n  </TouchableOpacity>\r\n)\r\n","import React, { useState, useCallback } from 'react'\nimport {\n  View,\n  TouchableOpacity,\n  StyleSheet,\n  ScrollView,\n  Text,\n} from 'react-native'\nimport { RANKS, SUITS, SUITS_JOKER, canIAddCard } from './cardUtils'\nimport { CardState, TCard } from './types'\nimport { Divider } from './Divider'\nimport { CardDeck, Card } from './Card'\nimport { MyButton } from './MyButton'\n\nconst palette = {\n  blue: 'rgb(33, 150, 243)',\n  grey: {\n    0: 'black',\n    4: 'rgb(161, 161, 161)',\n    6: 'rgb(223, 223, 223)',\n    8: 'white',\n  },\n}\n\nexport const theme = {\n  disabled: {\n    background: palette.grey[6],\n    text: palette.grey[4],\n  },\n  button: {\n    background: palette.blue,\n  },\n}\n\nfunction useIncDecState(defaultValue = 0) {\n  const [value, setValue] = useState(defaultValue)\n  const increase = useCallback(() => setValue(valueNow => valueNow + 1), [\n    setValue,\n  ])\n  const decrease = useCallback(() => setValue(valueNow => valueNow - 1), [\n    setValue,\n  ])\n\n  return {\n    value,\n    increase,\n    decrease,\n  }\n}\n\nconst controlStyles = StyleSheet.create({\n  incDecButton: {\n    flex: 2,\n    minWidth: 80,\n    maxWidth: 200,\n    margin: 6,\n  },\n  actionButton: {\n    flex: 1,\n    minWidth: 80,\n    maxWidth: 150,\n    margin: 6,\n  },\n  buttonTitle: {\n    fontSize: 20,\n  },\n  buttonTitleSmall: {\n    fontSize: 20,\n  },\n})\ninterface ControlPanelProps {\n  decRank: () => void\n  incRank: () => void\n  clearCards: () => void\n  randomCards: () => void\n  deleteLastCard: () => void\n  rankID: number\n  numberOfCards: number\n}\nconst ControlPanel: React.FunctionComponent<ControlPanelProps> = props => (\n  <View>\n    <View\n      style={{\n        flexDirection: 'row',\n        justifyContent: 'center',\n        alignContent: 'center',\n      }}\n    >\n      <MyButton\n        onPress={props.decRank}\n        disabled={props.rankID <= 0}\n        title=\"<\"\n        style={controlStyles.incDecButton}\n        titleStyle={controlStyles.buttonTitle}\n      />\n      <MyButton\n        onPress={props.incRank}\n        title=\">\"\n        disabled={props.rankID >= RANKS.length - 1}\n        style={controlStyles.incDecButton}\n        titleStyle={controlStyles.buttonTitle}\n      />\n    </View>\n    <View\n      style={{\n        flexDirection: 'row',\n        justifyContent: 'center',\n        alignContent: 'center',\n      }}\n    >\n      <MyButton\n        onPress={props.randomCards}\n        title=\"随机发牌\"\n        disabled={props.numberOfCards > 0}\n        style={controlStyles.actionButton}\n        titleStyle={controlStyles.buttonTitleSmall}\n      />\n      <MyButton\n        onPress={props.clearCards}\n        title=\"清除\"\n        disabled={props.numberOfCards === 0}\n        style={controlStyles.actionButton}\n        titleStyle={controlStyles.buttonTitle}\n      />\n      <MyButton\n        onPress={props.deleteLastCard}\n        title=\"删除\"\n        disabled={props.numberOfCards === 0}\n        style={controlStyles.actionButton}\n        titleStyle={controlStyles.buttonTitle}\n      />\n    </View>\n  </View>\n)\n\ninterface AddCardPanelProps {\n  cards: TCard[]\n  addCard: (card: TCard) => void\n  rankID: number\n}\nconst AddCardPanel: React.FunctionComponent<AddCardPanelProps> = props => (\n  <>\n    {(RANKS[props.rankID].isJoker ? SUITS_JOKER : SUITS).map(suit => {\n      const card = {\n        suit: suit.value,\n        rank: RANKS[props.rankID].value,\n      }\n      const canIAddThisCard = canIAddCard(props.cards, card)\n\n      return (\n        <TouchableOpacity\n          key={suit.value}\n          onPress={() => props.addCard(card)}\n          disabled={!canIAddThisCard}\n        >\n          <Card\n            suit={suit.value}\n            rank={RANKS[props.rankID].value}\n            disabled={!canIAddThisCard}\n            style={{ margin: 3 }}\n          />\n        </TouchableOpacity>\n      )\n    })}\n  </>\n)\n\nexport function CardsChooser({\n  cards,\n  addCard,\n  clearCards,\n  randomCards,\n  deleteLastCard,\n}: CardState) {\n  const {\n    value: rankID,\n    increase: incRank,\n    decrease: decRank,\n  } = useIncDecState()\n\n  return (\n    <View style={{ flex: 1 }}>\n      <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n        <CardDeck\n          cards={cards}\n          style={{\n            height: 60,\n            padding: 6,\n          }}\n        />\n      </View>\n      <Divider />\n      <Text style={{ fontSize: 14, margin: 4 }}>{`点击扑克牌添加，目前已有${\n        cards.length\n      }张牌`}</Text>\n      <ScrollView\n        style={{\n          height: 110,\n          flexGrow: 0,\n        }}\n        contentContainerStyle={{\n          flex: 1,\n          justifyContent: 'center',\n        }}\n        horizontal\n      >\n        <AddCardPanel cards={cards} addCard={addCard} rankID={rankID} />\n      </ScrollView>\n      <ControlPanel\n        numberOfCards={cards.length}\n        clearCards={clearCards}\n        randomCards={randomCards}\n        deleteLastCard={deleteLastCard}\n        rankID={rankID}\n        incRank={incRank}\n        decRank={decRank}\n      />\n    </View>\n  )\n}\n","import { CppModule, StrategyResult, vector2Array } from './loadCppModule'\r\n\r\nexport function portCppModule(cppModule: CppModule) {\r\n  return {\r\n    calc: (cards: string, mainRank: string): StrategyResult => {\r\n      const { minHands, solutions: originalSolutions } = cppModule.calc(\r\n        cards,\r\n        mainRank.charCodeAt(0),\r\n      )\r\n      const solutionsRaw = vector2Array(originalSolutions)\r\n\r\n      return {\r\n        minHands,\r\n        solutionsRaw,\r\n        solutions: parseSolutions(solutionsRaw),\r\n      }\r\n    },\r\n  }\r\n}\r\n\r\nconst cardRegex = /[0-9A-Z]{2}/\r\n\r\n// TODO: write this more elegantly\r\nexport function restoreWildCards(\r\n  hands: string[][],\r\n  usedWildCards: string[],\r\n  wildCard: string,\r\n): string[][] {\r\n  const wildCardsToUse = [...usedWildCards]\r\n  const restoredHands = [...hands]\r\n\r\n  hands.forEach((hand, handID) => {\r\n    hand.forEach((card, cardID) => {\r\n      if (wildCardsToUse.length > 0) {\r\n        const foundCardID = wildCardsToUse.indexOf(card)\r\n        if (foundCardID >= 0) {\r\n          wildCardsToUse.splice(foundCardID, 1)\r\n          const newHand = [...restoredHands[handID]]\r\n          newHand.splice(cardID, 1, wildCard)\r\n          restoredHands[handID] = newHand\r\n        }\r\n      }\r\n    })\r\n  })\r\n\r\n  if (wildCardsToUse.length > 0) {\r\n    throw new Error(\r\n      `Cannot find all wildcards, double check the data, hands = \"${hands}\", usedWildCards = \"${usedWildCards}\", wildCard=\"${wildCard}\"`,\r\n    )\r\n  }\r\n\r\n  return restoredHands\r\n}\r\n\r\nexport function parseSolutions(solutions: string[]) {\r\n  try {\r\n    return parseSolutionsUnsafe(solutions)\r\n  } catch (e) {\r\n    console.log(solutions)\r\n    throw e\r\n  }\r\n}\r\n\r\nexport function parseSolutionsUnsafe(solutions: string[]) {\r\n  const parsedSolutions = []\r\n  let wildCards: null | string[] = null\r\n\r\n  for (let i = 0; i < solutions.length; ++i) {\r\n    if (solutions[i].length === 0) {\r\n      throw new Error(\"solutions shouldn't have empty line: #\" + i)\r\n    }\r\n\r\n    if (solutions[i][0] === '-') {\r\n      // section of wild cards\r\n      const wildCardsRawStr = solutions[i]\r\n      wildCards = wildCardsRawStr.split(' ').filter(str => str.match(cardRegex))\r\n    } else {\r\n      // section of a solution\r\n      if (wildCards == null) {\r\n        throw new Error(\r\n          'wildcard definition should be before solution definition',\r\n        )\r\n      }\r\n\r\n      const handsRawStr = solutions[i]\r\n      const asHands = handsRawStr\r\n        .split('|')\r\n        .map(hand => hand.split(' ').filter(str => str.match(cardRegex)))\r\n        .filter(foundCards => foundCards.length > 0)\r\n      const actualHands = restoreWildCards(asHands, wildCards, '??')\r\n\r\n      parsedSolutions.push({\r\n        wildCards,\r\n        actualHands,\r\n        asHands,\r\n      })\r\n    }\r\n  }\r\n  // console.log(parsedSolutions)\r\n\r\n  return parsedSolutions\r\n}\r\n","import { portCppModule } from './portCppModule'\r\n\r\ninterface VectorString {\r\n  size: () => number\r\n  get: (index: number) => string\r\n}\r\n\r\ninterface OriginalStrategyResult {\r\n  minHands: number\r\n  solutions: VectorString\r\n}\r\n\r\nexport type CardRaw = string\r\n\r\nexport type HandRaw = CardRaw[]\r\n\r\nexport interface StrategyResult {\r\n  minHands: number\r\n  solutionsRaw: string[]\r\n  solutions: {\r\n    wildCards: CardRaw[]\r\n    asHands: HandRaw[]\r\n    actualHands: HandRaw[]\r\n  }[]\r\n}\r\n\r\nexport interface CppModule {\r\n  onRuntimeInitialized: () => void\r\n  onAbort: () => void\r\n  add: (a: number, b: number) => number\r\n  calc: (cards: string, mainRank: number) => OriginalStrategyResult\r\n}\r\n\r\nexport interface PortedCppModule {\r\n  calc: (cards: string, mainRank: string) => StrategyResult\r\n}\r\n\r\ndeclare global {\r\n  interface Window {\r\n    Module: CppModule\r\n  }\r\n}\r\n\r\nexport function vector2Array(vec: VectorString): string[] {\r\n  const arr = []\r\n  for (let i = 0; i < vec.size(); ++i) {\r\n    arr.push(vec.get(i))\r\n  }\r\n\r\n  return arr\r\n}\r\n\r\nexport function loadCppModule(): Promise<PortedCppModule> {\r\n  return new Promise((resolve, reject) => {\r\n    if (window.Module) {\r\n      return resolve(portCppModule(window.Module))\r\n    } else {\r\n      const s = document.createElement('script')\r\n      s.src = 'res/strategy.js'\r\n      s.onload = () => {\r\n        const cppModule = window.Module\r\n        cppModule.onRuntimeInitialized = () => {\r\n          resolve(portCppModule(window.Module))\r\n        }\r\n        cppModule.onAbort = () => {\r\n          reject('wasm module aborted during loading')\r\n        }\r\n      }\r\n      s.onerror = () => reject('wasm module failed to load')\r\n      document.body.appendChild(s)\r\n    }\r\n  })\r\n}\r\n","import { StyleSheet } from 'react-native';\r\n\r\nexport const commonStyles = StyleSheet.create({\r\n  container: {\r\n    padding: 10,\r\n  },\r\n  borderBox: {\r\n    borderWidth: 2,\r\n    borderColor: 'black',\r\n  },\r\n});\r\n","import React from 'react'\r\nimport { View, Text, Picker } from 'react-native'\r\nimport { RankState } from './types'\r\nimport { RANKS, SUIT, RANK } from './cardUtils'\r\n\r\nexport function RankChooser({ rank, setRank }: RankState) {\r\n  return (\r\n    <View\r\n      style={{\r\n        flexDirection: 'row',\r\n      }}\r\n    >\r\n      <Text style={{ fontSize: 22, marginHorizontal: 6 }}>\r\n        当前打\r\n        <Picker\r\n          selectedValue={rank}\r\n          onValueChange={itemValue => setRank(itemValue)}\r\n        >\r\n          {RANKS.filter(rankOption => !rankOption.isJoker).map(rankOption => (\r\n            <Picker.Item\r\n              key={rankOption.value}\r\n              label={rankOption.label}\r\n              value={rankOption.value}\r\n            />\r\n          ))}\r\n        </Picker>{' '}\r\n        <Text style={{ color: SUIT.H.color }}>\r\n          {SUIT.H.label}\r\n          {RANK[rank].label}\r\n        </Text>\r\n        是百搭\r\n      </Text>\r\n    </View>\r\n  )\r\n}\r\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { View, Text } from 'react-native'\nimport { NavigationProps, TCard } from './types'\nimport { CardsChooser } from './CardsChooser'\nimport { loadCppModule, PortedCppModule } from './loadCppModule'\nimport { Divider } from './Divider'\nimport { commonStyles } from './styles'\nimport { cardsToString } from './cardUtils'\nimport { MyButton } from './MyButton'\nimport { RankChooser } from './RankChooser'\n\nlet strategyModule: PortedCppModule | null = null\n\nexport function Home({ screenProps, navigation }: NavigationProps) {\n  useEffect(() => {\n    loadCppModule().then(cppModule => {\n      strategyModule = cppModule\n      // uncomment the following to test the module\n      // console.log(\n      //   strategyModule.calc(\n      //     'BJADKDJH0S0C0CAH8D7S7H4H4D4H3D3C2H9C7CAH6C5CKSQSJS0S9S',\n      //     'A',\n      //   ),\n      // )\n    })\n  }, [])\n\n  const {\n    rank,\n    setRank,\n    cards,\n    clearCards,\n    addCard,\n    randomCards,\n    deleteLastCard,\n    strategyResult,\n    setResult,\n  } = screenProps\n\n  const handleSolutionCalcButton = useCallback(() => {\n    setResult('loading')\n\n    setTimeout(() => {\n      if (strategyModule != null) {\n        // console.log(cards)\n        const cardsStr = cardsToString(cards)\n        // console.log(cardsStr)\n        const result = strategyModule.calc(cardsStr, rank)\n\n        // set a minimum extra delay to avoid UI flashing too quickly\n        setTimeout(() => {\n          navigation.navigate('Result')\n          setResult(result)\n        }, 300)\n      }\n    }, 0)\n  }, [cards, setResult, navigation])\n\n  return (\n    <>\n      <View\n        style={[\n          commonStyles.container,\n          {\n            height: 40,\n            justifyContent: 'center',\n            alignItems: 'center',\n          },\n        ]}\n      >\n        <RankChooser rank={rank} setRank={setRank} />\n      </View>\n      <Divider />\n      <View\n        style={{\n          flex: 1,\n        }}\n      >\n        <CardsChooser\n          cards={cards}\n          addCard={addCard}\n          clearCards={clearCards}\n          randomCards={randomCards}\n          deleteLastCard={deleteLastCard}\n        />\n      </View>\n      <View\n        style={[\n          commonStyles.container,\n          {\n            justifyContent: 'center',\n            padding: 6,\n          },\n        ]}\n      >\n        {(() => {\n          const isReady = strategyResult !== 'loading'\n          return (\n            <MyButton\n              title={isReady ? '开始拆牌' : '拆牌中...'}\n              disabled={!isReady}\n              onPress={handleSolutionCalcButton}\n              style={{ height: 60 }}\n              titleStyle={{ fontSize: 28 }}\n            />\n          )\n        })()}\n      </View>\n    </>\n  )\n}\n","import { useState } from 'react'\r\nimport { StrategyResult } from './loadCppModule'\r\n\r\nexport type StrategyResultState = null | 'loading' | StrategyResult\r\nexport interface ResultProps {\r\n  strategyResult: StrategyResultState\r\n  setResult: (result: StrategyResultState) => void\r\n}\r\nexport const useResultState = () => {\r\n  const [strategyResult, setResult] = useState<StrategyResultState>(null)\r\n  return {\r\n    strategyResult,\r\n    setResult,\r\n  }\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n});\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n});\n\nvar SvgClose = function SvgClose(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n};\n\nexport default __webpack_public_path__ + \"static/media/close.62e7709e.svg\";\nexport { SvgClose as ReactComponent };","import React, { memo } from 'react'\r\nimport {\r\n  View,\r\n  Text,\r\n  ScrollView,\r\n  TouchableOpacity,\r\n  StyleProp,\r\n  ViewStyle,\r\n} from 'react-native'\r\nimport { Divider } from './Divider'\r\nimport { CardDeck } from './Card'\r\nimport { commonStyles } from './styles'\r\nimport { parseRawCard } from './cardUtils'\r\nimport { StrategyResultState } from './useResultState'\r\nimport { ReactComponent as Close } from './icons/close.svg'\r\n\r\ninterface SolutionVisualizationProps {\r\n  strategyResult: StrategyResultState\r\n  rank: string\r\n  onClose: () => void\r\n}\r\n\r\ninterface WindowSizeToggleProps {\r\n  toggleWindowSize: () => void\r\n  style: StyleProp<ViewStyle>\r\n}\r\nconst WindowSizeToggle: React.FunctionComponent<\r\n  WindowSizeToggleProps\r\n> = props => (\r\n  <TouchableOpacity\r\n    style={[\r\n      {\r\n        width: 40,\r\n        flexDirection: 'row',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n      },\r\n      props.style,\r\n    ]}\r\n    onPress={props.toggleWindowSize}\r\n  >\r\n    <Close />\r\n  </TouchableOpacity>\r\n)\r\n\r\ninterface SolutionWindowProps {\r\n  rank: string\r\n  strategyResult: StrategyResultState\r\n}\r\nconst SolutionWindow: React.FunctionComponent<SolutionWindowProps> = props => (\r\n  <ScrollView\r\n    style={[\r\n      commonStyles.container,\r\n      {\r\n        flex: 2,\r\n      },\r\n    ]}\r\n  >\r\n    {props.strategyResult &&\r\n      (props.strategyResult === 'loading' ? (\r\n        <Text\r\n          style={{\r\n            fontSize: 20,\r\n          }}\r\n        >\r\n          {/* 计算中... */}\r\n        </Text>\r\n      ) : (\r\n        <>\r\n          <Text>{`最少${props.strategyResult.minHands}手可以出完`}</Text>\r\n          <View>\r\n            {(() => {\r\n              const solutionsCount = props.strategyResult.solutions.length\r\n              const hiddenMoreSolutions = solutionsCount - 10\r\n              return (\r\n                <>\r\n                  {props.strategyResult.solutions\r\n                    .slice(0, 10)\r\n                    .map((solution, solutionIndex) => (\r\n                      <CardDeck\r\n                        key={solutionIndex}\r\n                        hands={solution.actualHands.map(hand =>\r\n                          hand.map(card =>\r\n                            parseRawCard(card, {\r\n                              rank: props.rank,\r\n                              suit: 'H',\r\n                            }),\r\n                          ),\r\n                        )}\r\n                        style={{\r\n                          margin: 6,\r\n                        }}\r\n                      />\r\n                    ))}\r\n                  {hiddenMoreSolutions > 0 &&\r\n                    `还有${hiddenMoreSolutions}种方案可以达到同样的最少手数`}\r\n                </>\r\n              )\r\n            })()}\r\n          </View>\r\n        </>\r\n      ))}\r\n  </ScrollView>\r\n)\r\nconst MemoedSolutionWindow = memo(SolutionWindow)\r\n\r\nconst SolutionVisualization: React.FunctionComponent<\r\n  SolutionVisualizationProps\r\n> = ({ strategyResult, rank, onClose }) => (\r\n  <>\r\n    <View\r\n      style={{\r\n        flexDirection: 'row',\r\n        justifyContent: 'flex-end',\r\n        alignContent: 'center',\r\n      }}\r\n    >\r\n      <View style={{ flex: 1 }}>\r\n        <Text\r\n          style={{\r\n            fontSize: 20,\r\n            padding: 4,\r\n            textAlign: 'center',\r\n          }}\r\n        >\r\n          拆牌策略计算结果\r\n        </Text>\r\n      </View>\r\n      {/* <View style={{ width: 2, backgroundColor: 'black' }} /> */}\r\n      <WindowSizeToggle\r\n        toggleWindowSize={onClose}\r\n        style={{\r\n          // to the right and centered\r\n          position: 'absolute',\r\n          right: 0,\r\n          height: '100%',\r\n        }}\r\n      />\r\n    </View>\r\n    <Divider />\r\n    <MemoedSolutionWindow strategyResult={strategyResult} rank={rank} />\r\n  </>\r\n)\r\n\r\nexport default React.memo(SolutionVisualization)\r\n","/// <reference path=\"lib.d.ts\"/>\n\nimport React, {\n  useState,\n  useCallback,\n  FunctionComponent,\n  useMemo,\n  useEffect,\n} from 'react'\nimport {\n  StyleSheet,\n  View,\n  Text,\n  Animated,\n  StyleProp,\n  ViewStyle,\n} from 'react-native'\nimport { NavigationProps, AppState } from './types'\nimport { useCardState } from './useCardState'\nimport { Home } from './Home'\nimport { useResultState } from './useResultState'\nimport SolutionVisualization from './SolutionVisualization'\n\nfunction ResultPage({ screenProps, navigation }: NavigationProps) {\n  const { strategyResult, rank } = screenProps\n  const closeResultPage = useCallback(() => {\n    navigation.navigate('Home')\n  }, [navigation])\n\n  return (\n    <SolutionVisualization\n      strategyResult={strategyResult}\n      rank={rank}\n      onClose={closeResultPage}\n    />\n  )\n}\n\ninterface FadeProps {\n  in: boolean\n  style?: StyleProp<ViewStyle>\n  timeout: number\n}\nconst Fade: FunctionComponent<FadeProps> = ({\n  children,\n  in: show,\n  style,\n  timeout,\n}) => {\n  const [fadeAnim, _] = useState(new Animated.Value(0))\n  const [mounted, updateMount] = useState(show)\n  useEffect(() => {\n    if (show) {\n      // mount immediately if it is shown\n      if (!mounted) {\n        updateMount(true)\n      }\n\n      const timeoutID = setTimeout(() => {\n        Animated.timing(fadeAnim, {\n          toValue: 1,\n          duration: timeout,\n        }).start()\n      }, 0)\n\n      return () => clearTimeout(timeoutID)\n    } else {\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: timeout,\n      }).start()\n\n      // unmount after the duration times out\n      const timeoutID = setTimeout(() => void updateMount(false), timeout + 1)\n\n      return () => clearTimeout(timeoutID)\n    }\n  }, [show])\n\n  if (mounted) {\n    return (\n      <Animated.View\n        style={[\n          {\n            opacity: fadeAnim,\n          },\n          style,\n        ]}\n      >\n        {children}\n      </Animated.View>\n    )\n  } else {\n    return null\n  }\n}\n\ninterface AppNavigatorProps {\n  route: string\n  navigate: (newRoute: string) => void\n  screenProps: AppState\n  style?: StyleProp<ViewStyle>\n}\nconst styles = StyleSheet.create({\n  absoluteChild: {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n  },\n})\nconst AppNavigator: FunctionComponent<AppNavigatorProps> = ({\n  route,\n  navigate,\n  screenProps,\n  style,\n}) => {\n  const navigation = useMemo(\n    () => ({\n      navigate,\n    }),\n    [navigate],\n  )\n\n  return (\n    <>\n      <Fade\n        key=\"Home\"\n        style={[styles.absoluteChild, style]}\n        in={route === 'Home'}\n        timeout={300}\n      >\n        <Home screenProps={screenProps} navigation={navigation} />\n      </Fade>\n      <Fade\n        key=\"Result\"\n        style={[styles.absoluteChild, style]}\n        in={route === 'Result'}\n        timeout={300}\n      >\n        <ResultPage screenProps={screenProps} navigation={navigation} />\n      </Fade>\n    </>\n  )\n}\n\nfunction App() {\n  const [rank, setRank] = useState('2')\n  const cardStateProps = useCardState()\n  const resultProps = useResultState()\n  const [route, navigate] = useState('Home')\n\n  return (\n    <View\n      style={{\n        flex: 1,\n        backgroundColor: 'lightblue',\n        height: '100%',\n      }}\n    >\n      <View style={{ height: '100%' }}>\n        <Text style={{ fontSize: 14 }}>掼蛋拆牌计算器</Text>\n        <View style={{ flex: 1 }}>\n          <AppNavigator\n            route={route}\n            screenProps={{ rank, setRank, ...cardStateProps, ...resultProps }}\n            navigate={navigate}\n            style={{\n              flex: 1,\n            }}\n          />\n        </View>\n      </View>\n    </View>\n  )\n}\n\nexport default App\n","import React, { useState, useCallback } from 'react'\r\nimport { View, Text, Picker } from 'react-native'\r\nimport { RANKS, RANK, SUIT, generateRandomHands } from './cardUtils'\r\nimport { CardState, RankState, TCard } from './types'\r\n\r\nexport function useCardState(): CardState {\r\n  const [cards, setCards] = useState<TCard[]>([])\r\n  const clearCards = useCallback(() => setCards([]), [setCards])\r\n  const addCard = useCallback(\r\n    card => setCards(cardsNow => cardsNow.concat(card)),\r\n    [setCards],\r\n  )\r\n  const randomCards = useCallback(() => setCards(generateRandomHands()), [\r\n    setCards,\r\n  ])\r\n  const deleteLastCard = useCallback(\r\n    () => setCards(cardsNow => cardsNow.slice(0, cardsNow.length - 1)),\r\n    [setCards],\r\n  )\r\n  return {\r\n    cards,\r\n    clearCards,\r\n    addCard,\r\n    randomCards,\r\n    deleteLastCard,\r\n  }\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { AppRegistry } from 'react-native'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nAppRegistry.registerComponent('App', () => App)\nAppRegistry.runApplication('App', {\n  rootTag: document.getElementById('root'),\n})\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register({\n  onSuccess: () => console.log('service worker loaded successfully'),\n  onUpdate: () => console.log('service worker is updated'),\n})\n\nfunction removeWechatGuidance() {\n  const guidanceNode = window.document.getElementById('wechat-guidance')\n  if (guidanceNode) {\n    const parentNode = guidanceNode.parentNode\n    if (parentNode) {\n      parentNode.removeChild(guidanceNode)\n    }\n  }\n}\n\nremoveWechatGuidance()\n"],"sourceRoot":""}